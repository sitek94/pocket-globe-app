{"version":3,"sources":["components/layout/layout-styles.js","components/layout/index.js","components/Navbar.js","components/Footer.js","components/globe/globe-styles.js","components/LoadingSpinner.js","components/globe/globe-transformations.js","components/widgets/ButtonBase.js","components/widgets/ShadowHelper.js","utils/keyCodes.js","components/widgets/WidgetLocation.js","components/widgets/WidgetNavigation.js","components/widgets/WidgetZoom.js","components/widgets/WidgetRandomCountry.js","components/widgets/index.js","utils/countries.js","utils/index.js","components/globe/index.js","components/globe/useGeoJsonData.js","components/ErrorBox.js","components/country-about/details/details-styles.js","hooks/useDataApi.js","components/country-about/details/utils.js","components/country-about/apis.js","components/country-about/details/index.js","components/country-about/InfoBox.js","components/Modal.js","components/country-about/photos/PhotoViewer.js","components/country-about/photos/index.js","components/country-about/wiki-entry/index.js","components/country-about/wiki-entry/utils.js","components/country-about/index.js","components/search-box/search-box-styles.js","components/search-box/index.js","components/layout/hooks/useColumnWidth.js","components/layout/hooks/useBodyWidth.js","components/layout/hooks/useColumnHeight.js","components/app/useTheme.js","components/Shortcuts.js","components/app/index.js","components/layout/hooks/useGlobeSize.js","index.js"],"names":["useStyles","makeStyles","breakpoints","spacing","transitions","create","duration","layout","minHeight","height","display","gridTemplateRows","gridTemplateColumns","overflowX","down","flexDirection","navbar","gridColumn","leftColumn","position","padding","paddingRight","justifyContent","transition","values","mobile","paddingTop","isSearchboxVisible","console","log","rightColumn","paddingLeft","overflowY","only","footer","Layout","classes","Container","maxWidth","disableGutters","Paper","className","elevation","palette","root","color","text","primary","backgroundColor","background","default","toolbar","title","left","width","textAlign","pushToRight","marginLeft","useNavbarIconStyles","NavbarButton","label","other","Tooltip","IconButton","clsx","edge","aria-label","Navbar","onThemeIconClick","onWidgetsIconClick","onShortcutsIconClick","useTheme","type","matchesUpSm","useMediaQuery","up","matchesDownSmall","matchesDownMobile","appGlobeIcon","disabled","fontSize","titleVariant","AppBar","Toolbar","Typography","variant","onClick","Keyboard","component","href","target","rel","GitHub","shadows","container","boxShadow","Footer","memo","year","Date","getFullYear","myGithubLink","Link","getContrastText","shape","svg","margin","country","fill","stroke","standard","strokeWidth","main","selected","light","circle","spinner","alignItems","LoadingSpinner","style","CircularProgress","throttledRotateProjectionBy","throttle","params","selection","projection","path","rotation","currentRotate","rotate","x","y","z","nextRotate","r","interpolate","attrTween","d","t","Math","pow","pathD","rotateProjectionBy","throttledZoomProjectionBy","maxScale","minScale","zoomValue","nextScale","scale","attr","zoomProjectionBy","minWidth","borderRadius","shadow","disableShadow","gridArea","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","right","center","border","dark","ButtonBase","forwardRef","ref","placement","enterDelay","Button","shadowStyles","base","horizontal","gridRow","vertical","ShadowHelper","ARROW_KEYS","PLUS_MINUS_KEYS","ALPHA_KEYS","WidgetLocation","useState","isLoading","setIsLoading","isError","setIsError","isNotSupported","setIsNotSupported","buttonRef","useRef","handleLocationClick","useCallback","navigator","geolocation","getCurrentPosition","latitude","floor","coords","longitude","current","blur","error","useEffect","handleKeydown","which","keyCode","KEY_","window","addEventListener","removeEventListener","open","setOpen","handleClose","id","createLabel","LocationDisabled","HourglassEmpty","Snackbar","anchorOrigin","onClose","Alert","severity","holder","gridTemplateAreas","WidgetNavigation","onRotateClick","onLocationClick","grouped","WidgetZoom","ButtonGroup","orientation","Add","Remove","WidgetRandomCountry","widgets","zIndex","marginBottom","bottom","grid","WidgetsBase","props","Widgets","show","children","Slide","direction","in","mountOnEnter","unmountOnExit","countries","name","code","alpha","getCountryById","find","getRandomCountry","sample","initialState","Globe","initialRotation","initialScale","maxScroll","minScroll","zoomInValue","zoomOutValue","sensitivity","rotationValue","selectedCountry","onCountryClick","onRandomCountryClick","showWidgets","svgRef","useMemo","geoOrthographic","translate","geoPath","features","data","setData","_isMounted","a","axios","get","topology","geoJsonData","feature","objects","fetchData","useGeoJsonData","length","select","globeCircle","countryPaths","selectAll","dragBehaviour","drag","on","event","k","dx","dy","zoomBehaviour","zoom","scrollValue","transform","call","join","rotateProjectionTo","handleKeyDown","ctrlKey","pressedKey","includes","cx","cy","map","key","currentTarget","rotateBy","f","geoContains","box","header","gap","ErrorBox","Box","bgcolor","underline","pkg","bugs","url","styles","dataFetchReducer","state","action","isErorr","payload","Error","useDataApi","initialData","initialUrl","initialConfig","axiosInstance","setUrl","config","setConfig","useReducer","dispatch","didCancel","result","initialDetails","capital","currencies","population","area","languages","notListedCountries","NCY","SXX","XXK","restCountriesApi","baseURL","unsplashApi","per_page","headers","Authorization","process","wikiApi","DetailItem","value","TableRow","hover","TableCell","Details","setQuery","details","format","slice","LANGUAGES_LIMIT","l","generateDetailsArray","TableContainer","when","Table","size","TableBody","columnGap","infoBox","InfoBox","theme","modal","div","outline","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Zoom","common","figure","white","img","PhotoViewer","photo","urls","alt_description","links","user","src","regular","alt","align","html","photos","card","cursor","overflow","fade","WebkitColumnBreakInside","pageBreakInside","breakInside","list","columnCount","Photos","term","results","query","isModalOpen","setIsModalOpen","currentIndex","setCurrentIndex","total_pages","marginTop","AlertTitle","i","tabIndex","small","aspectRatio","animationDuration","disableSpinner","WikiEntry","extract","variont","string","limit","shortenedString","split","limitCharacters","CountryAbout","autocompleteRoot","top","autocompletePaper","inputRoot","inputInput","inputWrapper","searchIcon","SearchBox","onOptionSelect","setValue","inputValue","setInputValue","stopPropagation","autocomplete","Autocomplete","onChange","newValue","onInputChange","options","getOptionLabel","option","paper","renderInput","InputProps","InputBase","placeholder","input","inputProps","onKeyDown","Search","useColumnWidth","bodyWidth","delay","document","body","clientWidth","setWidth","useLayoutEffect","handleResize","debouncedHandleResize","debounce","useBodyWidth","useColumnHeight","matchesXsAndLandscape","documentElement","clientHeight","defaultTheme","createMuiTheme","createData","description","rows","table","cellKey","fontFamily","ShortcutsTable","TableHead","row","Shortcuts","App","prefersDarkMode","darkMode","setDarkMode","buttonWidth","toggleTheme","matchesSmallScreens","matchesMediumScreens","matchesLargeScreens","columnWidth","columnHeight","useGlobeSize","globeWidth","globeHeight","setShowWidgets","toggleWidgetsVisibility","preventRotation","prev","shortcuts","setShowShortcuts","toggleShortcutsVisibility","setSelectedCountry","setRotation","updateSelectedCountry","newCountry","setRandomCountry","ThemeProvider","CssBaseline","rotationBy","countryId","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9259a3c0.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(\n  ({ breakpoints, spacing, transitions: { create, duration } }) => ({\n    layout: {\n      minHeight: '100vh',\n      height: '100vh',\n      display: 'grid',\n      gridTemplateRows: 'auto 1fr',\n      gridTemplateColumns: '1fr 1fr',\n      /* Overflow is required due to sliding transitions of widgets */\n      overflowX: 'hidden',\n      [breakpoints.down('sm')]: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n      },\n    },\n    navbar: {\n      gridColumn: '1 / span 2',\n    },\n    leftColumn: {\n      position: 'relative',\n      padding: spacing(2),\n      paddingRight: spacing(1),\n\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      transition: create('padding', duration['short']),\n      [breakpoints.down('sm')]: {\n        padding: spacing(2),\n      },\n      [breakpoints.down(breakpoints.values.mobile)]: {\n        paddingTop: isSearchboxVisible => {\n          console.log(isSearchboxVisible);\n          return isSearchboxVisible ? spacing(8) : spacing(2);\n        },\n      },\n    },\n    rightColumn: {\n      height: '100%',\n      padding: spacing(2),\n      paddingLeft: spacing(1),\n      overflowY: 'scroll',\n      overflowX: 'hidden',\n      [breakpoints.down('sm')]: {\n        padding: spacing(2),\n        overflowY: 'hidden',\n      },\n      [breakpoints.only('xs')]: {\n        paddingTop: 0,\n      },\n    },\n    footer: {\n      gridColumn: '1 / span 2',\n    },\n  }),\n);\n","import React from 'react';\nimport { Paper, Container } from '@material-ui/core';\nimport { useStyles } from './layout-styles';\n\nexport const Layout = ({\n  navbar,\n  leftColumn,\n  rightColumn,\n  footer,\n  isSearchboxVisible,\n}) => {\n  const classes = useStyles(isSearchboxVisible);\n\n  return (\n    <Container maxWidth={false} disableGutters>\n      <Paper className={classes.layout} elevation={0}>\n        <div className={classes.navbar}>{navbar}</div>\n        <div className={classes.leftColumn}>{leftColumn}</div>\n        <div className={classes.rightColumn}>{rightColumn}</div>\n        <div className={classes.footer}>{footer}</div>\n      </Paper>\n    </Container>\n  );\n};\n","import React from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  makeStyles,\n  Tooltip,\n} from '@material-ui/core';\nimport {\n  PublicOutlined as GlobeIcon,\n  Brightness4 as MoonIcon,\n  Brightness7 as SunIcon,\n  GitHub as GitHubIcon,\n  Widgets as WidgetsIcon,\n  Keyboard as KeyboardIcon,\n} from '@material-ui/icons';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(({ palette, breakpoints }) => ({\n  root: {\n    color: palette.text.primary,\n    backgroundColor: palette.background.default,\n  },\n  toolbar: {},\n  title: {\n    left: 0,\n    position: 'absolute',\n    width: '100%',\n    textAlign: 'center',\n    [breakpoints.only('xs')]: {\n      position: 'static',\n      textAlign: 'left',\n    },\n  },\n  pushToRight: {\n    marginLeft: 'auto',\n  },\n}));\n\nconst useNavbarIconStyles = makeStyles({\n  root: {},\n  pushToRight: {\n    marginLeft: 'auto',\n  },\n});\n\nconst NavbarButton = ({ label, pushToRight, ...other }) => {\n  const classes = useNavbarIconStyles();\n\n  return (\n    <Tooltip title={label}>\n      <IconButton\n        className={clsx({\n          [classes.pushToRight]: pushToRight,\n        })}\n        edge=\"end\"\n        color=\"inherit\"\n        aria-label={label}\n        {...other}\n      />\n    </Tooltip>\n  );\n};\n\nexport const Navbar = ({\n  title,\n  onThemeIconClick,\n  onWidgetsIconClick,\n  onShortcutsIconClick,\n}) => {\n  const classes = useStyles();\n  const {\n    palette: { type },\n    breakpoints,\n  } = useTheme();\n\n  // Media queries\n  const matchesUpSm = useMediaQuery(breakpoints.up('sm'));\n  const matchesDownSmall = useMediaQuery(breakpoints.down('xs'));\n  const matchesDownMobile = useMediaQuery(\n    `(max-width:${breakpoints.values.mobile}px)`,\n  );\n\n  // App Globe icon\n  const appGlobeIcon = (\n    <IconButton disabled edge=\"start\">\n      <GlobeIcon fontSize=\"large\" />\n    </IconButton>\n  );\n\n  let titleVariant = 'h4';\n  if (matchesDownSmall) titleVariant = 'h5';\n  if (matchesDownMobile) titleVariant = 'h6';\n\n  return (\n    <AppBar className={classes.root} position=\"static\">\n      <Toolbar className={classes.toolbar}>\n        {matchesUpSm && appGlobeIcon}\n        <Typography className={classes.title} variant={titleVariant}>\n          {title}\n        </Typography>\n        <NavbarButton\n          label=\"Show/hide shortcuts\"\n          onClick={onShortcutsIconClick}\n          pushToRight\n        >\n          <KeyboardIcon />\n        </NavbarButton>\n        <NavbarButton label=\"Show/hide widgets\" onClick={onWidgetsIconClick}>\n          <WidgetsIcon />\n        </NavbarButton>\n        <NavbarButton\n          component=\"a\"\n          label=\"GitHub repository\"\n          href=\"https://github.com/sitek94/pocket-globe-app\"\n          target=\"_blank\"\n          rel=\"noopener\"\n        >\n          <GitHubIcon />\n        </NavbarButton>\n        <NavbarButton\n          label=\"Toggle light/dark theme\"\n          onClick={onThemeIconClick}\n        >\n          {type === 'light' ? <MoonIcon /> : <SunIcon />}\n        </NavbarButton>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import React, { memo } from 'react';\nimport { Typography, Link, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ spacing, shadows }) => ({\n  container: {\n    padding: spacing(1),\n    textAlign: 'center',\n    boxShadow: shadows['7'],\n  },\n}));\n\nexport const Footer = memo(() => {\n  const classes = useStyles();\n\n  const year = new Date().getFullYear();\n\n  const myGithubLink = (\n    <Link\n      href=\"https://github.com/sitek94\"\n      target=\"_blank\"\n      variant=\"body2\"\n      rel=\"noopener\"\n    >\n      Maciek Sitkowski\n    </Link>\n  );\n\n  return (\n    <footer className={classes.container}>\n      <Typography color=\"textSecondary\" variant=\"body2\">\n        &copy; {year} by {myGithubLink}\n      </Typography>\n    </footer>\n  );\n});\n","import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(\n  ({\n    palette: { primary, background, getContrastText },\n    transitions: { create, duration },\n    shadows,\n    shape,\n  }) => ({\n    container: {\n      position: 'relative',\n      height: '100%',\n    },\n    svg: {\n      display: 'block',\n      margin: '0 auto',\n    },\n    country: {\n      fill: background.default,\n      stroke: getContrastText(background.default),\n      transition: create('fill', duration.standard),\n      strokeWidth: 0.25,\n      '&:hover': {\n        fill: primary.main,\n      },\n    },\n    selected: {\n      fill: primary.light,\n    },\n    circle: {\n      fill: getContrastText(background.default),\n      transition: create('fill', duration.standard),\n    },\n  }),\n);\n","import React from 'react';\n\nimport { CircularProgress, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  spinner: {\n    width: '100%',\n    height: '50%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport const LoadingSpinner = ({ height }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.spinner} style={height ? { height } : null}>\n      <CircularProgress />\n    </div>\n  );\n};\n","import { interpolate } from 'd3';\nimport { throttle } from 'lodash';\n\n/**\n * A function that rotates the projection by x, y and z value\n *\n *\n */\nexport const rotateProjectionBy = ({\n  selection,\n  projection,\n  path,\n  duration = 1000,\n  rotation,\n}) => {\n  // Store the current rotation and scale:\n  const currentRotate = projection.rotate();\n\n  // Update path generator with new projection\n  path.projection(projection);\n\n  // Set next rotation\n  const [x, y, z] = rotation;\n  const [currentX, currentY, currentZ] = currentRotate;\n  const nextRotate = [currentX + x, currentY + y, currentZ + z];\n\n  // Create interpolator function\n  const r = interpolate(currentRotate, nextRotate);\n\n  // Update selection\n  selection\n    .transition()\n    .attrTween('d', d => t => {\n      projection.rotate(r(Math.pow(t, 0.33)));\n      path.projection(projection);\n\n      // When interpolator returns null, Chrome throws errors for\n      // <path> with attribute d=\"null\"\n      const pathD = path(d);\n      return pathD !== null ? pathD : '';\n    })\n    .duration(duration);\n};\n\n/**\n * A specialized version of `rotateProjectionBy` used for keyboard events.\n *\n * It throttles the calls to `rotateProjectionBy` and sets duration of rotation\n * to zero and throttle time to 50ms so that the effect is quite smooth.\n *\n *\n */\nexport const throttledRotateProjectionBy = throttle(params => {\n  rotateProjectionBy({\n    ...params,\n    duration: 0,\n  });\n}, 50);\n\n/**\n * A function that makes a transition from current projection.rotation to\n * given rotation\n *\n *\n */\nexport const rotateProjectionTo = ({\n  selection,\n  projection,\n  path,\n  duration = 1000,\n  rotation,\n}) => {\n  // Store the current rotation and scale:\n  const currentRotate = projection.rotate();\n\n  // Update path generator with new projection\n  path.projection(projection);\n\n  // Set  next rotation\n  const nextRotate = rotation;\n\n  // Create interpolator function\n  const r = interpolate(currentRotate, nextRotate);\n\n  // Update selection\n  selection\n    .transition()\n    .attrTween('d', d => t => {\n      projection.rotate(r(Math.pow(t, 0.33)));\n      path.projection(projection);\n\n      // When interpolator returns null, Chrome throws errors for\n      // <path> with attribute d=\"null\"\n      const pathD = path(d);\n      return pathD !== null ? pathD : '';\n    })\n    .duration(duration);\n};\n\n/**\n * A function that zooms given projection by given value\n *\n *\n */\nexport const zoomProjectionBy = ({\n  selection,\n  projection,\n  path,\n  circle,\n  maxScale,\n  minScale,\n  zoomValue,\n}) => {\n  let nextScale = projection.scale() * zoomValue;\n\n  // Reached max/min zoom\n  if (nextScale >= maxScale) nextScale = maxScale;\n  if (nextScale <= minScale) nextScale = minScale;\n  else {\n    // Update projection\n    projection.scale(nextScale);\n\n    // Update path generator with new projection\n    path.projection(projection);\n\n    // Update selection\n    selection.attr('d', path);\n    circle.attr('r', projection.scale());\n  }\n};\n\n/**\n * A specialized version of `zoomProjectionBy` used for keyboard events.\n *\n * It throttles the calls to `zoomProjectionBy` and sets duration of rotation\n * to zero and throttle time to 50ms so that the effect is quite smooth.\n *\n *\n */\nexport const throttledZoomProjectionBy = throttle(params => {\n  zoomProjectionBy({\n    ...params,\n    duration: 0,\n  });\n}, 50);\n","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, Button, Tooltip } from '@material-ui/core/';\n\nconst useStyles = makeStyles(({ shadows, shape, palette }) => ({\n  root: {\n    width: 29,\n    height: 29,\n    padding: 0,\n    minWidth: 0,\n    minHeight: 0,\n    borderRadius: shape.borderRadius,\n    fontSize: '1.3rem',\n  },\n  shadow: {\n    boxShadow: shadows['11'],\n    '&:hover': {\n      boxShadow: shadows['11'],\n    },\n  },\n  /* Remove shadow because it overlap neighbor buttons */\n  disableShadow: {\n    boxShadow: 'none',\n    '&:hover': {\n      boxShadow: 'none',\n    },\n  },\n  up: {\n    gridArea: 'up',\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  down: {\n    gridArea: 'down',\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n  },\n  left: {\n    gridArea: 'left',\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  right: {\n    gridArea: 'right',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n  center: {\n    gridArea: 'center',\n    borderRadius: 0,\n    border: `1px solid ${palette.primary.dark}`,\n  },\n}));\n\nexport const ButtonBase = forwardRef(\n  ({ label, className, gridArea, disableShadow = false, ...other }, ref) => {\n    const classes = useStyles();\n\n    return (\n      <Tooltip title={label} placement=\"left\" enterDelay={500}>\n        <Button\n          ref={ref}\n          color=\"primary\"\n          variant=\"contained\"\n          aria-label={label}\n          classes={{\n            root: classes.root,\n          }}\n          className={clsx(\n            classes[gridArea],\n            {\n              [classes.disableShadow]: disableShadow,\n              [classes.shadow]: !disableShadow,\n            },\n            className,\n          )}\n          {...other}\n        />\n      </Tooltip>\n    );\n  },\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/';\n\nconst shadowStyles = makeStyles(({ shadows, shape }) => ({\n  base: {\n    /* Mimic shape of rotation widget */\n    borderRadius: shape.borderRadius,\n    backgroundColor: 'transparent',\n    boxShadow: shadows['11'],\n  },\n  /* Take advantage of the fact that WidgetRotation uses grid display */\n  horizontal: {\n    gridColumn: '1 / span 3',\n    gridRow: '2 / span 1',\n  },\n  vertical: {\n    gridColumn: '2 / span 1',\n    gridRow: '2 / span 3',\n  },\n}));\n\n/**\n * Used by Widget Rotation component, where box shadow is removed due\n * to overlapping on the neighbor buttons.\n *\n * This compoent is rendered beneath Widget Rotation to mimic its box shadow.\n *\n */\nexport const ShadowHelper = () => {\n  const classes = shadowStyles();\n  return (\n    <>\n      <div className={clsx(classes.horizontal, classes.base)} />\n      <div className={clsx(classes.vertical, classes.base)} />\n    </>\n  );\n};\n","export const L = 76;\nexport const R = 82;\nexport const W = 87;\n\nexport const SLASH = 191;\n\nexport const UP = 38;\nexport const DOWN = 40;\nexport const LEFT = 37;\nexport const RIGHT = 39;\n\nexport const PLUS = 187;\nexport const MINUS = 189;\n\nexport const NUM_PLUS = 107;\nexport const NUM_MINUS = 109;\n\nexport const ARROW_KEYS = [UP, DOWN, LEFT, RIGHT];\nexport const PLUS_MINUS_KEYS = [PLUS, MINUS, NUM_PLUS, NUM_MINUS];\nexport const ALPHA_KEYS = [L, R, W];\n\nexport default {\n  L,\n  R,\n  W,\n  UP,\n  SLASH,\n  DOWN,\n  LEFT,\n  RIGHT,\n  PLUS,\n  MINUS,\n  NUM_PLUS,\n  NUM_MINUS,\n};\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { ButtonBase } from './ButtonBase';\nimport {\n  MyLocation as LocationIcon,\n  HourglassEmpty as HourglassEmptyIcon,\n  LocationDisabled as LocationDisabledIcon,\n} from '@material-ui/icons';\nimport { Snackbar } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport KEY_ from '../../utils/keyCodes';\n\nexport const WidgetLocation = ({ onClick }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [isNotSupported, setIsNotSupported] = useState(false);\n  const buttonRef = useRef();\n  const handleLocationClick = useCallback(() => {\n    setIsLoading(true);\n\n    if (!navigator.geolocation) {\n      setIsNotSupported(true);\n    } else {\n      setIsNotSupported(false);\n\n      // getLocation()\n      navigator.geolocation.getCurrentPosition(\n        position => {\n          setIsLoading(false);\n          setIsError(false);\n\n          const latitude = Math.floor(position.coords.latitude);\n          const longitude = Math.floor(position.coords.longitude);\n\n          onClick([-longitude, -latitude]);\n          buttonRef.current.blur();\n        },\n        error => {\n          setIsLoading(false);\n          setIsError(true);\n        },\n      );\n    }\n  }, [onClick]);\n\n  /**\n   * Keydown event listener\n   *\n   */\n  useEffect(() => {\n    const handleKeydown = ({ which, keyCode }) => {\n      const pressedKey = which || keyCode;\n\n      if (pressedKey === KEY_.L) {\n        handleLocationClick();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeydown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeydown);\n    };\n  }, [handleLocationClick]);\n\n  /**\n   * Create label and render icon helpers\n   *\n   */\n  const createLabel = () => {\n    let label = 'Show your location';\n\n    if (isError) label = 'Permission required';\n    if (isNotSupported) label = 'Geolocation is not supported';\n    if (isLoading) label = 'Loading...';\n\n    return label;\n  };\n\n  const renderIcon = () => {\n    if (isError) return <LocationDisabledIcon />;\n    else if (isLoading) return <HourglassEmptyIcon />;\n\n    return <LocationIcon />;\n  };\n\n  /**\n   * Snackbar message\n   *\n   */\n  const [open, setOpen] = useState(false);\n  const handleClose = () => setOpen(false);\n\n  useEffect(() => {\n    if (isError || isNotSupported) setOpen(true);\n  }, [isError, isNotSupported]);\n\n  const renderMessage = () => {\n    if (isError) return 'The app needs permission to use your location.';\n    if (isNotSupported) return 'Geolocation is not supported by your browser.';\n  };\n\n  return (\n    <>\n      <ButtonBase\n        ref={buttonRef}\n        id=\"widget-location\"\n        label={createLabel()}\n        gridArea=\"center\"\n        onClick={handleLocationClick}\n        disabled={isNotSupported}\n        disableShadow\n      >\n        {renderIcon()}\n      </ButtonBase>\n      <Snackbar\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n        open={open}\n        onClose={handleClose}\n      >\n        <Alert severity=\"warning\" onClose={handleClose}>\n          {renderMessage()}\n        </Alert>\n      </Snackbar>\n    </>\n  );\n};\n","import React from 'react';\n\nimport {\n  IoIosArrowUp as IconUp,\n  IoIosArrowDown as IconDown,\n  IoIosArrowBack as IconLeft,\n  IoIosArrowForward as IconRight,\n} from 'react-icons/io';\nimport { makeStyles } from '@material-ui/core/';\nimport { ButtonBase } from './ButtonBase';\nimport { ShadowHelper } from './ShadowHelper';\nimport { WidgetLocation } from './WidgetLocation';\n\nconst useStyles = makeStyles({\n  holder: {\n    display: 'grid',\n    gridTemplateColumns: `repeat(3, auto)`,\n    gridTemplateRows: `repeat(3, auto)`,\n    gridTemplateAreas: `\n      '. up .'\n      'left center right'\n      '. down .'`,\n  },\n});\n\nexport const WidgetNavigation = ({ onRotateClick, onLocationClick }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.holder}>\n      <ButtonBase\n        id=\"widget-rotate-up\"\n        label=\"Rotate up\"\n        gridArea=\"up\"\n        onClick={onRotateClick}\n        disableShadow\n      >\n        <IconUp />\n      </ButtonBase>\n      <ButtonBase\n        id=\"widget-rotate-down\"\n        label=\"Rotate down\"\n        gridArea=\"down\"\n        onClick={onRotateClick}\n        disableShadow\n      >\n        <IconDown />\n      </ButtonBase>\n      <WidgetLocation onClick={onLocationClick} />\n      <ButtonBase\n        id=\"widget-rotate-left\"\n        label=\"Rotate left\"\n        gridArea=\"left\"\n        onClick={onRotateClick}\n        disableShadow\n      >\n        <IconLeft />\n      </ButtonBase>\n      <ButtonBase\n        id=\"widget-rotate-right\"\n        label=\"Rotate right\"\n        gridArea=\"right\"\n        onClick={onRotateClick}\n        disableShadow\n      >\n        <IconRight />\n      </ButtonBase>\n      <ShadowHelper />\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { makeStyles, ButtonGroup } from '@material-ui/core/';\nimport { ButtonBase } from './ButtonBase';\nimport { Add as AddIcon, Remove as RemoveIcon } from '@material-ui/icons';\n\nconst useStyles = makeStyles(({ shape }) => ({\n  root: {\n    borderRadius: shape.borderRadius,\n  },\n  grouped: {\n    minWidth: 0,\n  },\n}));\n\nexport const WidgetZoom = ({ onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <ButtonGroup\n      classes={{\n        root: classes.root,\n        grouped: classes.grouped,\n      }}\n      orientation=\"vertical\"\n      variant=\"contained\"\n      color=\"primary\"\n    >\n      <ButtonBase id=\"widget-zoom-in\" label=\"Zoom in\" onClick={onClick}>\n        <AddIcon />\n      </ButtonBase>\n      <ButtonBase id=\"widget-zoom-out\" label=\"Zoom out\" onClick={onClick}>\n        <RemoveIcon />\n      </ButtonBase>\n    </ButtonGroup>\n  );\n};\n","import React from 'react';\n\nimport { ButtonBase } from './ButtonBase';\nimport { GiPerspectiveDiceSixFacesRandom as DiceIcon } from 'react-icons/gi';\n\nexport const WidgetRandomCountry = ({ onClick }) => {\n  return (\n    <ButtonBase\n      id=\"widget-random-country\"\n      label=\"Show random country\"\n      onClick={onClick}\n    >\n      <DiceIcon fontSize={25} />\n    </ButtonBase>\n  );\n};\n","import React, { forwardRef } from 'react';\nimport { makeStyles, Slide } from '@material-ui/core';\n\nimport { WidgetNavigation } from './WidgetNavigation';\nimport { WidgetZoom } from './WidgetZoom';\nimport { WidgetRandomCountry } from './WidgetRandomCountry';\nexport { WidgetNavigation, WidgetZoom, WidgetRandomCountry };\n\nconst useStyles = makeStyles(({ spacing, breakpoints }) => ({\n  widgets: {\n    zIndex: 100,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '& > *:not(:last-child)': {\n      marginBottom: spacing(1),\n    },\n    /* Position in the right bottom corner of relative parent */\n    position: 'absolute',\n    bottom: spacing(2),\n    right: spacing(2),\n    [breakpoints.down('md')]: {\n      bottom: 0,\n      right: 0,\n    },\n  },\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: `repeat(3, auto)`,\n    gridTemplateRows: `repeat(3, auto)`,\n    gridTemplateAreas: `\n      '. up .'\n      'left center right'\n      '. down .'`,\n  },\n}));\n\nconst WidgetsBase = forwardRef((props, ref) => {\n  const classes = useStyles();\n\n  return <div ref={ref} className={classes.widgets} {...props} />;\n});\n\nexport const Widgets = ({ show, children }) => {\n  return (\n    <Slide direction=\"right\" in={show} mountOnEnter unmountOnExit>\n      <WidgetsBase>{children}</WidgetsBase>\n    </Slide>\n  );\n};\n","export const countries = [\n  {\n    id: '004',\n    name: 'Afghanistan',\n    code: '004',\n    alpha: 'AFG',\n    rotation: [-66.00292433929583, -33.840025643746436, 0],\n  },\n  {\n    id: '008',\n    name: 'Albania',\n    code: '008',\n    alpha: 'ALB',\n    rotation: [-20.033816449220577, -41.13444237308559, 0],\n  },\n  {\n    id: '012',\n    name: 'Algeria',\n    code: '012',\n    alpha: 'DZA',\n    rotation: [-2.6132358614483158, -28.084901563011012, 0],\n  },\n  {\n    id: '024',\n    name: 'Angola',\n    code: '024',\n    alpha: 'AGO',\n    rotation: [-17.465318534442954, 12.225944668587815, 0],\n  },\n  {\n    id: '010',\n    name: 'Antarctica',\n    code: '010',\n    alpha: 'ATA',\n    rotation: [-75.63969825781282, 83.47825243637891, 0],\n  },\n  {\n    id: '032',\n    name: 'Argentina',\n    code: '032',\n    alpha: 'ARG',\n    rotation: [64.74219710121419, 34.69603926314824, 0],\n  },\n  {\n    id: '051',\n    name: 'Armenia',\n    code: '051',\n    alpha: 'ARM',\n    rotation: [-45.009548864806035, -40.21445739967241, 0],\n  },\n  {\n    id: '036',\n    name: 'Australia',\n    code: '036',\n    alpha: 'AUS',\n    rotation: [-135.62358765006326, 25.64135766575019, 0],\n  },\n  {\n    id: '040',\n    name: 'Austria',\n    code: '040',\n    alpha: 'AUT',\n    rotation: [-14.060416287511531, -47.62096461589918, 0],\n  },\n  {\n    id: '031',\n    name: 'Azerbaijan',\n    code: '031',\n    alpha: 'AZE',\n    rotation: [-47.55506309929699, -40.21951070699023, 0],\n  },\n  {\n    id: '044',\n    name: 'Bahamas',\n    code: '044',\n    alpha: 'BHS',\n    rotation: [77.92799658646132, -25.50655745016169, 0],\n  },\n  {\n    id: '050',\n    name: 'Bangladesh',\n    code: '050',\n    alpha: 'BGD',\n    rotation: [-90.27621847689744, -23.83393894813619, 0],\n  },\n  {\n    id: '112',\n    name: 'Belarus',\n    code: '112',\n    alpha: 'BLR',\n    rotation: [-27.965008860252464, -53.495255073551064, 0],\n  },\n  {\n    id: '056',\n    name: 'Belgium',\n    code: '056',\n    alpha: 'BEL',\n    rotation: [-4.58769551789543, -50.65259664888061, 0],\n  },\n  {\n    id: '084',\n    name: 'Belize',\n    code: '084',\n    alpha: 'BLZ',\n    rotation: [88.70377211871029, -17.194716030802326, 0],\n  },\n  {\n    id: '204',\n    name: 'Benin',\n    code: '204',\n    alpha: 'BEN',\n    rotation: [-2.3364468144868233, -9.642634232769627, 0],\n  },\n  {\n    id: '064',\n    name: 'Bhutan',\n    code: '064',\n    alpha: 'BTN',\n    rotation: [-90.47334344115623, -27.429566173929985, 0],\n  },\n  {\n    id: '068',\n    name: 'Bolivia',\n    code: '068',\n    alpha: 'BOL',\n    rotation: [64.65487502908482, 16.70357561750091, 0],\n  },\n  {\n    id: '070',\n    name: 'Bosnia and Herzegovina',\n    code: '070',\n    alpha: 'BIH',\n    rotation: [-17.82291396192673, -44.178812746795224, 0],\n  },\n  {\n    id: '072',\n    name: 'Botswana',\n    code: '072',\n    alpha: 'BWA',\n    rotation: [-23.783482523211063, 22.08235596760819, 0],\n  },\n  {\n    id: '076',\n    name: 'Brazil',\n    code: '076',\n    alpha: 'BRA',\n    rotation: [53.20470389567, 10.614107668135931, 0],\n  },\n  {\n    id: '096',\n    name: 'Brunei Darussalam',\n    code: '096',\n    alpha: 'BRN',\n    rotation: [-114.91510433388343, -4.690137843628553, 0],\n  },\n  {\n    id: '100',\n    name: 'Bulgaria',\n    code: '100',\n    alpha: 'BGR',\n    rotation: [-25.187482205219794, -42.75591716333826, 0],\n  },\n  {\n    id: '854',\n    name: 'Burkina Faso',\n    code: '854',\n    alpha: 'BFA',\n    rotation: [1.7826913502591513, -12.313133829558398, 0],\n  },\n  {\n    id: '108',\n    name: 'Burundi',\n    code: '108',\n    alpha: 'BDI',\n    rotation: [-29.91404544895876, 3.3776882374887323, 0],\n  },\n  {\n    id: '116',\n    name: 'Cambodia',\n    code: '116',\n    alpha: 'KHM',\n    rotation: [-104.87404361498115, -12.684905661051465, 0],\n  },\n  {\n    id: '120',\n    name: 'Cameroon',\n    code: '120',\n    alpha: 'CMR',\n    rotation: [-12.605418224400575, -5.65301844023122, 0],\n  },\n  {\n    id: '124',\n    name: 'Canada',\n    code: '124',\n    alpha: 'CAN',\n    rotation: [96.43009224170632, -60.51217500485933, 0],\n  },\n  {\n    id: '140',\n    name: 'Central African Republic',\n    code: '140',\n    alpha: 'CAF',\n    rotation: [-20.36818811064359, -6.547317287072128, 0],\n  },\n  {\n    id: '148',\n    name: 'Chad',\n    code: '148',\n    alpha: 'TCD',\n    rotation: [-18.573838404855614, -15.273875108888328, 0],\n  },\n  {\n    id: '152',\n    name: 'Chile',\n    code: '152',\n    alpha: 'CHL',\n    rotation: [71.1869730148196, 37.3073357483882, 0],\n  },\n  {\n    id: '156',\n    name: 'China',\n    code: '156',\n    alpha: 'CHN',\n    rotation: [-103.44405126430215, -36.59239992549257, 0],\n  },\n  {\n    id: '170',\n    name: 'Colombia',\n    code: '170',\n    alpha: 'COL',\n    rotation: [73.07367856954164, -3.915586995728956, 0],\n  },\n  {\n    id: '178',\n    name: 'Congo (Brazzaville)',\n    code: '178',\n    alpha: 'COG',\n    rotation: [-15.13636997740768, 0.8365245860947736, 0],\n  },\n  {\n    id: '180',\n    name: 'Congo (Kinshasa)',\n    code: '180',\n    alpha: 'COD',\n    rotation: [-23.576043874005837, 2.8380199221138636, 0],\n  },\n  {\n    id: '188',\n    name: 'Costa Rica',\n    code: '188',\n    alpha: 'CRI',\n    rotation: [84.173461090358, -9.965861316995731, 0],\n  },\n  {\n    id: '384',\n    name: \"Cte d'Ivoire\",\n    code: '384',\n    alpha: 'CIV',\n    rotation: [5.611890723568799, -7.551568803610024, 0],\n  },\n  {\n    id: '191',\n    name: 'Croatia',\n    code: '191',\n    alpha: 'HRV',\n    rotation: [-16.567267780913756, -45.009946975255176, 0],\n  },\n  {\n    id: '192',\n    name: 'Cuba',\n    code: '192',\n    alpha: 'CUB',\n    rotation: [78.93110738454727, -21.64732927346821, 0],\n  },\n  {\n    id: '196',\n    name: 'Cyprus',\n    code: '196',\n    alpha: 'CYP',\n    rotation: [-33.03913076947935, -34.90749197033013, 0],\n  },\n  {\n    id: '203',\n    name: 'Czechia',\n    code: '203',\n    alpha: 'CZE',\n    rotation: [-15.342903228440436, -49.779754202713434, 0],\n  },\n  {\n    id: '208',\n    name: 'Denmark',\n    code: '208',\n    alpha: 'DNK',\n    rotation: [-9.879220997079036, -56.06407696735443, 0],\n  },\n  {\n    id: '262',\n    name: 'Djibouti',\n    code: '262',\n    alpha: 'DJI',\n    rotation: [-42.4972312707027, -11.772802869197555, 0],\n  },\n  {\n    id: '214',\n    name: 'Dominican Republic',\n    code: '214',\n    alpha: 'DOM',\n    rotation: [70.46189260994564, -18.885432213958328, 0],\n  },\n  {\n    id: '218',\n    name: 'Ecuador',\n    code: '218',\n    alpha: 'ECU',\n    rotation: [78.38372877694883, 1.454346054006699, 0],\n  },\n  {\n    id: '818',\n    name: 'Egypt',\n    code: '818',\n    alpha: 'EGY',\n    rotation: [-29.860930627906594, -26.476207533432994, 0],\n  },\n  {\n    id: '222',\n    name: 'El Salvador',\n    code: '222',\n    alpha: 'SLV',\n    rotation: [88.87191352647721, -13.726211621635365, 0],\n  },\n  {\n    id: '226',\n    name: 'Equatorial Guinea',\n    code: '226',\n    alpha: 'GNQ',\n    rotation: [-10.365684413796739, -1.6463543998012733, 0],\n  },\n  {\n    id: '232',\n    name: 'Eritrea',\n    code: '232',\n    alpha: 'ERI',\n    rotation: [-38.68781198694466, -15.427722969062797, 0],\n  },\n  {\n    id: '233',\n    name: 'Estonia',\n    code: '233',\n    alpha: 'EST',\n    rotation: [-25.830574468662125, -58.64139309119214, 0],\n  },\n  {\n    id: '748',\n    name: 'Eswatini',\n    code: '748',\n    alpha: 'SWZ',\n    rotation: [-31.395057635457164, 26.489608223170514, 0],\n  },\n  {\n    id: '231',\n    name: 'Ethiopia',\n    code: '231',\n    alpha: 'ETH',\n    rotation: [-39.558085099280234, -8.645960770769902, 0],\n  },\n  {\n    id: '238',\n    name: 'Falkland Islands (Malvinas)',\n    code: '238',\n    alpha: 'FLK',\n    rotation: [59.416338022507546, 51.71851054114084, 0],\n  },\n  {\n    id: '242',\n    name: 'Fiji',\n    code: '242',\n    alpha: 'FJI',\n    rotation: [-178.56888600245205, 17.315088098745157, 0],\n  },\n  {\n    id: '246',\n    name: 'Finland',\n    code: '246',\n    alpha: 'FIN',\n    rotation: [-26.141955294462097, -64.26000935558966, 0],\n  },\n  {\n    id: '250',\n    name: 'France',\n    code: '250',\n    alpha: 'FRA',\n    rotation: [2.430943316945423, -44.87701792097157, 0],\n  },\n  {\n    id: '260',\n    name: 'French Southern Territories',\n    code: '260',\n    alpha: 'ATF',\n    rotation: [-69.53842603547753, 49.310364522004285, 0],\n  },\n  {\n    id: '266',\n    name: 'Gabon',\n    code: '266',\n    alpha: 'GAB',\n    rotation: [-11.68730858621086, 0.6468534053196217, 0],\n  },\n  {\n    id: '270',\n    name: 'Gambia',\n    code: '270',\n    alpha: 'GMB',\n    rotation: [15.432662416130261, -13.476743076600865, 0],\n  },\n  {\n    id: '268',\n    name: 'Georgia',\n    code: '268',\n    alpha: 'GEO',\n    rotation: [-43.499163445994405, -42.16786732987325, 0],\n  },\n  {\n    id: '276',\n    name: 'Germany',\n    code: '276',\n    alpha: 'DEU',\n    rotation: [-10.270361729415326, -51.07748861508455, 0],\n  },\n  {\n    id: '288',\n    name: 'Ghana',\n    code: '288',\n    alpha: 'GHA',\n    rotation: [1.2370189790987784, -7.923427418922669, 0],\n  },\n  {\n    id: '300',\n    name: 'Greece',\n    code: '300',\n    alpha: 'GRC',\n    rotation: [-22.719383152524127, -39.03716562230882, 0],\n  },\n  {\n    id: '304',\n    name: 'Greenland',\n    code: '304',\n    alpha: 'GRL',\n    rotation: [41.952641204223376, -73.1548769668079, 0],\n  },\n  {\n    id: '320',\n    name: 'Guatemala',\n    code: '320',\n    alpha: 'GTM',\n    rotation: [90.37168864431867, -15.69601828949613, 0],\n  },\n  {\n    id: '324',\n    name: 'Guinea',\n    code: '324',\n    alpha: 'GIN',\n    rotation: [11.055107771555903, -10.450179492406182, 0],\n  },\n  {\n    id: '624',\n    name: 'Guinea-Bissau',\n    code: '624',\n    alpha: 'GNB',\n    rotation: [15.11040550808911, -12.02401749676372, 0],\n  },\n  {\n    id: '328',\n    name: 'Guyana',\n    code: '328',\n    alpha: 'GUY',\n    rotation: [58.9693913176755, -4.7861289179067255, 0],\n  },\n  {\n    id: '332',\n    name: 'Haiti',\n    code: '332',\n    alpha: 'HTI',\n    rotation: [72.6590204187346, -18.900271564403013, 0],\n  },\n  {\n    id: '340',\n    name: 'Honduras',\n    code: '340',\n    alpha: 'HND',\n    rotation: [86.59292724556319, -14.825102285637234, 0],\n  },\n  {\n    id: '348',\n    name: 'Hungary',\n    code: '348',\n    alpha: 'HUN',\n    rotation: [-19.343021768998867, -47.20351744682363, 0],\n  },\n  {\n    id: '352',\n    name: 'Iceland',\n    code: '352',\n    alpha: 'ISL',\n    rotation: [18.765055507794624, -65.07978438839723, 0],\n  },\n  {\n    id: '356',\n    name: 'India',\n    code: '356',\n    alpha: 'IND',\n    rotation: [-79.52070973778507, -22.820572085944626, 0],\n  },\n  {\n    id: '360',\n    name: 'Indonesia',\n    code: '360',\n    alpha: 'IDN',\n    rotation: [-117.41132690425994, 2.275438905772212, 0],\n  },\n  {\n    id: '364',\n    name: 'Iran',\n    code: '364',\n    alpha: 'IRN',\n    rotation: [-54.45434763573768, -32.47393979943816, 0],\n  },\n  {\n    id: '368',\n    name: 'Iraq',\n    code: '368',\n    alpha: 'IRQ',\n    rotation: [-43.78685567619944, -33.009884593512375, 0],\n  },\n  {\n    id: '372',\n    name: 'Ireland',\n    code: '372',\n    alpha: 'IRL',\n    rotation: [8.016982216398807, -53.17178917560689, 0],\n  },\n  {\n    id: '376',\n    name: 'Israel',\n    code: '376',\n    alpha: 'ISR',\n    rotation: [-35.000976092000855, -31.479101605192774, 0],\n  },\n  {\n    id: '380',\n    name: 'Italy',\n    code: '380',\n    alpha: 'ITA',\n    rotation: [-12.268171635597179, -42.67232636084266, 0],\n  },\n  {\n    id: '388',\n    name: 'Jamaica',\n    code: '388',\n    alpha: 'JAM',\n    rotation: [77.3242854613411, -18.138350019435617, 0],\n  },\n  {\n    id: '392',\n    name: 'Japan',\n    code: '392',\n    alpha: 'JPN',\n    rotation: [-137.71159857789849, -37.53138892822192, 0],\n  },\n  {\n    id: '400',\n    name: 'Jordan',\n    code: '400',\n    alpha: 'JOR',\n    rotation: [-36.76625051859275, -31.240155703586726, 0],\n  },\n  {\n    id: '398',\n    name: 'Kazakhstan',\n    code: '398',\n    alpha: 'KAZ',\n    rotation: [-67.25205431841346, -48.407643194395, 0],\n  },\n  {\n    id: '404',\n    name: 'Kenya',\n    code: '404',\n    alpha: 'KEN',\n    rotation: [-37.79142111605709, -0.5957833130207195, 0],\n  },\n  {\n    id: '408',\n    name: 'North Korea',\n    code: '408',\n    alpha: 'PRK',\n    rotation: [-127.13064038428509, -40.12960229356915, 0],\n  },\n  {\n    id: '410',\n    name: 'South Korea',\n    code: '410',\n    alpha: 'KOR',\n    rotation: [-127.81993928874314, -36.41865392621163, 0],\n  },\n  {\n    id: '414',\n    name: 'Kuwait',\n    code: '414',\n    alpha: 'KWT',\n    rotation: [-47.60084909736431, -29.307174280057836, 0],\n  },\n  {\n    id: '417',\n    name: 'Kyrgyzstan',\n    code: '417',\n    alpha: 'KGZ',\n    rotation: [-74.58708130034088, -41.51880491713066, 0],\n  },\n  {\n    id: '418',\n    name: \"Lao People's Democratic Republic\",\n    code: '418',\n    alpha: 'LAO',\n    rotation: [-103.78641245753563, -18.431834399928572, 0],\n  },\n  {\n    id: '428',\n    name: 'Latvia',\n    code: '428',\n    alpha: 'LVA',\n    rotation: [-24.83945912847866, -56.81728983019941, 0],\n  },\n  {\n    id: '422',\n    name: 'Lebanon',\n    code: '422',\n    alpha: 'LBN',\n    rotation: [-35.86844078165633, -33.910209079182685, 0],\n  },\n  {\n    id: '426',\n    name: 'Lesotho',\n    code: '426',\n    alpha: 'LSO',\n    rotation: [-28.17156443428305, 29.624633602530636, 0],\n  },\n  {\n    id: '430',\n    name: 'Liberia',\n    code: '430',\n    alpha: 'LBR',\n    rotation: [9.408652276377497, -6.4303183369395205, 0],\n  },\n  {\n    id: '434',\n    name: 'Libya',\n    code: '434',\n    alpha: 'LBY',\n    rotation: [-18.029023727670854, -26.990627550022335, 0],\n  },\n  {\n    id: '440',\n    name: 'Lithuania',\n    code: '440',\n    alpha: 'LTU',\n    rotation: [-23.88816230878215, -55.282751947502675, 0],\n  },\n  {\n    id: '442',\n    name: 'Luxembourg',\n    code: '442',\n    alpha: 'LUX',\n    rotation: [-5.966117423182868, -49.76493264193623, 0],\n  },\n  {\n    id: '450',\n    name: 'Madagascar',\n    code: '450',\n    alpha: 'MDG',\n    rotation: [-46.728637170590396, 19.301864097083307, 0],\n  },\n  {\n    id: '454',\n    name: 'Malawi',\n    code: '454',\n    alpha: 'MWI',\n    rotation: [-34.18595812590279, 13.159411625795903, 0],\n  },\n  {\n    id: '458',\n    name: 'Malaysia',\n    code: '458',\n    alpha: 'MYS',\n    rotation: [-109.71431950744771, -3.7417179365796795, 0],\n  },\n  {\n    id: '466',\n    name: 'Mali',\n    code: '466',\n    alpha: 'MLI',\n    rotation: [3.590764770959026, -17.240456956989522, 0],\n  },\n  {\n    id: '478',\n    name: 'Mauritania',\n    code: '478',\n    alpha: 'MRT',\n    rotation: [10.34978112924035, -20.17906433638354, 0],\n  },\n  {\n    id: '484',\n    name: 'Mexico',\n    code: '484',\n    alpha: 'MEX',\n    rotation: [102.23690953147484, -23.91875711815228, 0],\n  },\n  {\n    id: '498',\n    name: 'Moldova',\n    code: '498',\n    alpha: 'MDA',\n    rotation: [-28.41975140300746, -47.19637237819779, 0],\n  },\n  {\n    id: '496',\n    name: 'Mongolia',\n    code: '496',\n    alpha: 'MNG',\n    rotation: [-103.01753766931556, -46.951746940751974, 0],\n  },\n  {\n    id: '499',\n    name: 'Montenegro',\n    code: '499',\n    alpha: 'MNE',\n    rotation: [-19.285440576395175, -42.787805732291886, 0],\n  },\n  {\n    id: '504',\n    name: 'Morocco',\n    code: '504',\n    alpha: 'MAR',\n    rotation: [8.686540295093572, -29.82256001211104, 0],\n  },\n  {\n    id: '508',\n    name: 'Mozambique',\n    code: '508',\n    alpha: 'MOZ',\n    rotation: [-35.543210425288166, 17.149800293826292, 0],\n  },\n  {\n    id: '104',\n    name: 'Myanmar',\n    code: '104',\n    alpha: 'MMR',\n    rotation: [-96.51155505396662, -20.947997630730196, 0],\n  },\n  {\n    id: '516',\n    name: 'Namibia',\n    code: '516',\n    alpha: 'NAM',\n    rotation: [-17.14137203718194, 22.040053878443935, 0],\n  },\n  {\n    id: '524',\n    name: 'Nepal',\n    code: '524',\n    alpha: 'NPL',\n    rotation: [-84.04326018348499, -28.24898907008442, 0],\n  },\n  {\n    id: '528',\n    name: 'Netherlands',\n    code: '528',\n    alpha: 'NLD',\n    rotation: [-5.499915332002171, -52.292873936311146, 0],\n  },\n  {\n    id: '540',\n    name: 'New Caledonia',\n    code: '540',\n    alpha: 'NCL',\n    rotation: [-165.52837343546187, 21.260950352557103, 0],\n  },\n  {\n    id: '554',\n    name: 'New Zealand',\n    code: '554',\n    alpha: 'NZL',\n    rotation: [-172.94818742642852, 41.555999959925, 0],\n  },\n  {\n    id: '558',\n    name: 'Nicaragua',\n    code: '558',\n    alpha: 'NIC',\n    rotation: [85.01381974958862, -12.841223676457057, 0],\n  },\n  {\n    id: '562',\n    name: 'Niger',\n    code: '562',\n    alpha: 'NER',\n    rotation: [-9.276683378529787, -17.340510383825276, 0],\n  },\n  {\n    id: '566',\n    name: 'Nigeria',\n    code: '566',\n    alpha: 'NGA',\n    rotation: [-7.9855228241158205, -9.544519528180315, 0],\n  },\n  {\n    id: '807',\n    name: 'North Macedonia',\n    code: '807',\n    alpha: 'MKD',\n    rotation: [-21.696131192403985, -41.605756284009196, 0],\n  },\n  {\n    id: '578',\n    name: 'Norway',\n    code: '578',\n    alpha: 'NOR',\n    rotation: [-12.823895490801519, -66.60930932857671, 0],\n  },\n  {\n    id: '512',\n    name: 'Oman',\n    code: '512',\n    alpha: 'OMN',\n    rotation: [-56.06837488344796, -20.591774475800523, 0],\n  },\n  {\n    id: '586',\n    name: 'Pakistan',\n    code: '586',\n    alpha: 'PAK',\n    rotation: [-69.23375329023123, -29.905586996928065, 0],\n  },\n  {\n    id: '275',\n    name: 'Palestine',\n    code: '275',\n    alpha: 'PSE',\n    rotation: [-35.27278786386276, -31.93982371854114, 0],\n  },\n  {\n    id: '591',\n    name: 'Panama',\n    code: '591',\n    alpha: 'PAN',\n    rotation: [80.1092993915076, -8.532627651792009, 0],\n  },\n  {\n    id: '598',\n    name: 'Papua New Guinea',\n    code: '598',\n    alpha: 'PNG',\n    rotation: [-145.3090380650128, 6.458005750140304, 0],\n  },\n  {\n    id: '600',\n    name: 'Paraguay',\n    code: '600',\n    alpha: 'PRY',\n    rotation: [58.43177624344469, 23.22945275010426, 0],\n  },\n  {\n    id: '604',\n    name: 'Peru',\n    code: '604',\n    alpha: 'PER',\n    rotation: [74.43399386104991, 9.14317969556689, 0],\n  },\n  {\n    id: '608',\n    name: 'Philippines',\n    code: '608',\n    alpha: 'PHL',\n    rotation: [-122.83120349977337, -11.792276903490155, 0],\n  },\n  {\n    id: '616',\n    name: 'Poland',\n    code: '616',\n    alpha: 'POL',\n    rotation: [-19.343761889362877, -52.134071581669645, 0],\n  },\n  {\n    id: '620',\n    name: 'Portugal',\n    code: '620',\n    alpha: 'PRT',\n    rotation: [8.061118131977329, -39.607265457615185, 0],\n  },\n  {\n    id: '630',\n    name: 'Puerto Rico',\n    code: '630',\n    alpha: 'PRI',\n    rotation: [66.47905706575176, -18.238007978177734, 0],\n  },\n  {\n    id: '634',\n    name: 'Qatar',\n    code: '634',\n    alpha: 'QAT',\n    rotation: [-51.18384513080223, -25.32098345171296, 0],\n  },\n  {\n    id: '642',\n    name: 'Romania',\n    code: '642',\n    alpha: 'ROU',\n    rotation: [-24.954003986521663, -45.853419892533914, 0],\n  },\n  {\n    id: '643',\n    name: 'Russian Federation',\n    code: '643',\n    alpha: 'RUS',\n    rotation: [-94.087044206798, -65.96861631191982, 0],\n  },\n  {\n    id: '646',\n    name: 'Rwanda',\n    code: '646',\n    alpha: 'RWA',\n    rotation: [-29.918681417855325, 2.0137053302716854, 0],\n  },\n  {\n    id: '682',\n    name: 'Saudi Arabia',\n    code: '682',\n    alpha: 'SAU',\n    rotation: [-44.63992703437384, -24.088397190967818, 0],\n  },\n  {\n    id: '686',\n    name: 'Senegal',\n    code: '686',\n    alpha: 'SEN',\n    rotation: [14.505995809819991, -14.35369629728755, 0],\n  },\n  {\n    id: '688',\n    name: 'Serbia',\n    code: '688',\n    alpha: 'SRB',\n    rotation: [-20.836940835503505, -44.22323402233754, 0],\n  },\n  {\n    id: '694',\n    name: 'Sierra Leone',\n    code: '694',\n    alpha: 'SLE',\n    rotation: [11.795382606029952, -8.529900173089592, 0],\n  },\n  {\n    id: '703',\n    name: 'Slovakia',\n    code: '703',\n    alpha: 'SVK',\n    rotation: [-19.497476687039562, -48.733265094688676, 0],\n  },\n  {\n    id: '705',\n    name: 'Slovenia',\n    code: '705',\n    alpha: 'SVN',\n    rotation: [-14.934221684631295, -46.125912369675504, 0],\n  },\n  {\n    id: '090',\n    name: 'Solomon Islands',\n    code: '090',\n    alpha: 'SLB',\n    rotation: [-159.959911807289, 8.852546852028727, 0],\n  },\n  {\n    id: '706',\n    name: 'Somalia',\n    code: '706',\n    alpha: 'SOM',\n    rotation: [-45.69864512605874, -4.739350653208296, 0],\n  },\n  {\n    id: '710',\n    name: 'South Africa',\n    code: '710',\n    alpha: 'ZAF',\n    rotation: [-25.15889938829719, 28.923896813816622, 0],\n  },\n  {\n    id: '728',\n    name: 'South Sudan',\n    code: '728',\n    alpha: 'SSD',\n    rotation: [-30.202414512881077, -7.2926255895641905, 0],\n  },\n  {\n    id: '724',\n    name: 'Spain',\n    code: '724',\n    alpha: 'ESP',\n    rotation: [3.624174217494734, -40.32054802154367, 0],\n  },\n  {\n    id: '144',\n    name: 'Sri Lanka',\n    code: '144',\n    alpha: 'LKA',\n    rotation: [-80.66793250580407, -7.699468623290997, 0],\n  },\n  {\n    id: '729',\n    name: 'Sudan',\n    code: '729',\n    alpha: 'SDN',\n    rotation: [-29.831128509895628, -15.971504744113505, 0],\n  },\n  {\n    id: '740',\n    name: 'Suriname',\n    code: '740',\n    alpha: 'SUR',\n    rotation: [55.91147094523377, -4.119683196376136, 0],\n  },\n  {\n    id: '752',\n    name: 'Sweden',\n    code: '752',\n    alpha: 'SWE',\n    rotation: [-16.108461439092967, -62.41889604172381, 0],\n  },\n  {\n    id: '756',\n    name: 'Switzerland',\n    code: '756',\n    alpha: 'CHE',\n    rotation: [-8.115754133241357, -46.79281999539392, 0],\n  },\n  {\n    id: '760',\n    name: 'Syrian Arab Republic',\n    code: '760',\n    alpha: 'SYR',\n    rotation: [-38.523373770657976, -35.00858897258602, 0],\n  },\n  {\n    id: '158',\n    name: 'Taiwan, Province of China',\n    code: '158',\n    alpha: 'TWN',\n    rotation: [-120.97154278359325, -23.73902855564177, 0],\n  },\n  {\n    id: '762',\n    name: 'Tajikistan',\n    code: '762',\n    alpha: 'TJK',\n    rotation: [-71.04762395529823, -38.58916440592645, 0],\n  },\n  {\n    id: '834',\n    name: 'Tanzania',\n    code: '834',\n    alpha: 'TZA',\n    rotation: [-34.74137622450326, 6.250693680328514, 0],\n  },\n  {\n    id: '764',\n    name: 'Thailand',\n    code: '764',\n    alpha: 'THA',\n    rotation: [-101.00353148837137, -14.98645862445622, 0],\n  },\n  {\n    id: '626',\n    name: 'Timor-Leste',\n    code: '626',\n    alpha: 'TLS',\n    rotation: [-125.96732524646518, 8.767880394041605, 0],\n  },\n  {\n    id: '768',\n    name: 'Togo',\n    code: '768',\n    alpha: 'TGO',\n    rotation: [-0.9981338496907552, -8.43462165603615, 0],\n  },\n  {\n    id: '780',\n    name: 'Trinidad and Tobago',\n    code: '780',\n    alpha: 'TTO',\n    rotation: [61.331497188795005, -10.426835534174899, 0],\n  },\n  {\n    id: '788',\n    name: 'Tunisia',\n    code: '788',\n    alpha: 'TUN',\n    rotation: [-9.526029438045365, -34.13998156954238, 0],\n  },\n  {\n    id: '792',\n    name: 'Turkey',\n    code: '792',\n    alpha: 'TUR',\n    rotation: [-35.11666417495571, -39.14473569679425, 0],\n  },\n  {\n    id: '795',\n    name: 'Turkmenistan',\n    code: '795',\n    alpha: 'TKM',\n    rotation: [-59.34846655811917, -39.10239111004134, 0],\n  },\n  {\n    id: '800',\n    name: 'Uganda',\n    code: '800',\n    alpha: 'UGA',\n    rotation: [-32.35745069062437, -1.2951656247210654, 0],\n  },\n  {\n    id: '804',\n    name: 'Ukraine',\n    code: '804',\n    alpha: 'UKR',\n    rotation: [-31.226103901762748, -49.192068579611544, 0],\n  },\n  {\n    id: '784',\n    name: 'United Arab Emirates',\n    code: '784',\n    alpha: 'ARE',\n    rotation: [-54.20053336564968, -23.871035397300446, 0],\n  },\n  {\n    id: '826',\n    name: 'United Kingdom',\n    code: '826',\n    alpha: 'GBR',\n    rotation: [2.759337491447725, -53.80795452523584, 0],\n  },\n  {\n    id: '840',\n    name: 'United States',\n    code: '840',\n    alpha: 'USA',\n    rotation: [103.07726750245504, -44.265946463993416, 0],\n  },\n  {\n    id: '858',\n    name: 'Uruguay',\n    code: '858',\n    alpha: 'URY',\n    rotation: [56.00987366274323, 32.773822535745516, 0],\n  },\n  {\n    id: '860',\n    name: 'Uzbekistan',\n    code: '860',\n    alpha: 'UZB',\n    rotation: [-63.36626349772478, -41.77054620621317, 0],\n  },\n  {\n    id: '548',\n    name: 'Vanuatu',\n    code: '548',\n    alpha: 'VUT',\n    rotation: [-167.07293522702983, 15.542276766821908, 0],\n  },\n  {\n    id: '862',\n    name: 'Venezuela',\n    code: '862',\n    alpha: 'VEN',\n    rotation: [66.1519552921325, -7.1608066883959305, 0],\n  },\n  {\n    id: '704',\n    name: 'Viet Nam',\n    code: '704',\n    alpha: 'VNM',\n    rotation: [-106.33524325103325, -16.555878851250384, 0],\n  },\n  {\n    id: '732',\n    name: 'Western Sahara',\n    code: '732',\n    alpha: 'ESH',\n    rotation: [12.185141270332377, -24.279348242509098, 0],\n  },\n  {\n    id: '887',\n    name: 'Yemen',\n    code: '887',\n    alpha: 'YEM',\n    rotation: [-47.51465509977352, -15.921867835666074, 0],\n  },\n  {\n    id: '894',\n    name: 'Zambia',\n    code: '894',\n    alpha: 'ZMB',\n    rotation: [-27.761673282094918, 13.393507499986981, 0],\n  },\n  {\n    id: '716',\n    name: 'Zimbabwe',\n    code: '716',\n    alpha: 'ZWE',\n    rotation: [-29.788632869529476, 18.90029018585228, 0],\n  },\n  {\n    id: '926',\n    name: 'Kosovo',\n    code: '926',\n    alpha: 'XXK',\n    rotation: [-20.89599084801404, -42.57896063827273, 0],\n  },\n  {\n    id: '900',\n    name: 'Somaliland',\n    code: '900',\n    alpha: 'SXX',\n    rotation: [-46.23195329762493, -9.761176191425703, 0],\n  },\n  {\n    id: '977',\n    name: 'Northern Cyprus',\n    code: '977',\n    alpha: 'NCY',\n    rotation: [-33.557026481400776, -35.274767914204794, 0],\n  },\n];\n","import { sample } from 'lodash';\nimport { countries } from './countries';\n\nexport const getCountryById = id => {\n  return countries.find(country => country.id === id);\n};\n\nexport const getRandomCountry = () => {\n  return sample(countries);\n};\n\nexport const initialState = getRandomCountry();\n","import React, { useEffect, useRef, useMemo } from 'react';\nimport { geoPath, geoOrthographic, select, drag, zoom, geoContains } from 'd3';\nimport { Tooltip } from '@material-ui/core';\nimport clsx from 'clsx';\n\nimport { useStyles } from './globe-styles';\nimport { useGeoJsonData } from './useGeoJsonData';\nimport { LoadingSpinner } from '../LoadingSpinner';\nimport {\n  throttledRotateProjectionBy,\n  throttledZoomProjectionBy,\n  rotateProjectionTo,\n} from './globe-transformations';\nimport {\n  WidgetNavigation,\n  WidgetRandomCountry,\n  Widgets,\n  WidgetZoom,\n} from '../widgets';\nimport KEY_, { PLUS_MINUS_KEYS, ARROW_KEYS } from '../../utils/keyCodes';\nimport { getCountryById } from '../../utils';\n\nexport const Globe = ({\n  /* Initial values */\n  width = 600,\n  height = 600,\n  initialRotation = [0, -30],\n  initialScale = 250,\n  maxScale = 4594.79,\n  minScale = 94.73,\n  maxScroll = 20,\n  minScroll = 0.3,\n  zoomInValue = 1.1487,\n  zoomOutValue = 0.87055,\n  sensitivity = 75,\n  rotationValue = 5,\n  rotation,\n  selectedCountry,\n  onCountryClick,\n  onRandomCountryClick,\n  onLocationClick,\n  showWidgets,\n}) => {\n  console.log(selectedCountry);\n\n  const classes = useStyles();\n\n  // Refs\n  const svgRef = useRef(null);\n\n  // Projection\n  // useMemo is important here because we want to create a projection only once\n  const projection = useMemo(\n    () =>\n      geoOrthographic()\n        .scale(initialScale)\n        .center([0, 0])\n        .rotate(initialRotation)\n        .translate([width / 2, height / 2]),\n    [width, height, initialRotation, initialScale],\n  );\n  const path = geoPath().projection(projection);\n\n  // Get GeoJson data\n  const [{ data, isLoading }] = useGeoJsonData();\n\n  /**\n   * Initial globe set up.\n   *\n   * Draws the globe and using d3 attaches drag and zoom event handlers.\n   *\n   * Additionaly, watches 'width' prop to update whenever window's width\n   * changes.\n   */\n  useEffect(() => {\n    if (!data.features.length) return;\n\n    // Selectors\n    const svg = select(svgRef.current);\n    const globeCircle = svg.select('circle');\n    const countryPaths = svg.selectAll(`path`);\n\n    // Drag\n    const dragBehaviour = drag().on('drag', event => {\n      const rotate = projection.rotate();\n      const k = sensitivity / projection.scale();\n\n      // Update projection\n      projection.rotate([rotate[0] + event.dx * k, rotate[1] - event.dy * k]);\n      path.projection(projection);\n      countryPaths.attr('d', path);\n    });\n\n    // Zoom\n    const zoomBehaviour = zoom().on('zoom', event => {\n      const scrollValue = event.transform.k;\n\n      // Reached max/min zoom\n      if (scrollValue >= maxScroll) event.transform.k = maxScroll;\n      if (scrollValue <= minScroll) event.transform.k = minScroll;\n      else {\n        // Update projection\n        projection.scale(initialScale * event.transform.k);\n\n        // Update path generator with new projection\n        path.projection(projection);\n\n        // Update selectors\n        countryPaths.attr('d', path);\n        globeCircle.attr('r', projection.scale());\n      }\n    });\n\n    // Apply scroll and drag behaviour\n    svg.call(dragBehaviour).call(zoomBehaviour);\n\n    // Update country paths\n    countryPaths.data(data.features).join('path').attr('d', path);\n    globeCircle.attr('r', projection.scale());\n  }, [\n    width,\n    data,\n    path,\n    projection,\n    initialScale,\n    minScroll,\n    maxScroll,\n    sensitivity,\n  ]);\n\n  /**\n   * Watch rotation and prop and smoothly (using rotateProjactionTo)\n   * update the rotation.\n   *\n   */\n  useEffect(() => {\n    if (!rotation) return;\n\n    const countryPaths = select(svgRef.current).selectAll('path');\n\n    rotateProjectionTo({\n      selection: countryPaths,\n      projection,\n      path,\n      rotation,\n    });\n  }, [rotation, path, projection]);\n\n  /**\n   * Add key down event listener to the window object.\n   *\n   * - ctrl + arrows keys - to ratate the globe\n   * - (NOT ctrl*) + plus/minus keys - to zoom in/out\n   *   * Make sure that ctrl key is not pressed to prevent colliding with\n   *     native browser shortcuts\n   *\n   *\n   */\n  useEffect(() => {\n    const handleKeyDown = ({ which, keyCode, ctrlKey }) => {\n      const pressedKey = which || keyCode;\n\n      const svg = select(svgRef.current);\n      const countryPaths = svg.selectAll(`path`);\n      const globeCircle = svg.select('circle');\n\n      // CTRL + ARROW KEYS used to rotate the globe\n      if (ctrlKey && ARROW_KEYS.includes(pressedKey)) {\n        let x = 0,\n          y = 0,\n          z = 0;\n\n        if (pressedKey === KEY_.UP) y = rotationValue;\n        if (pressedKey === KEY_.DOWN) y = -rotationValue;\n        if (pressedKey === KEY_.LEFT) x = -rotationValue;\n        if (pressedKey === KEY_.RIGHT) x = rotationValue;\n\n        throttledRotateProjectionBy({\n          selection: countryPaths,\n          path,\n          projection,\n          rotation: [x, y, z],\n        });\n      }\n\n      // PLUS / MINUS used for zooming\n      if (!ctrlKey && PLUS_MINUS_KEYS.includes(pressedKey)) {\n        let zoomValue;\n\n        if (pressedKey === KEY_.PLUS || pressedKey === KEY_.NUM_PLUS)\n          zoomValue = zoomInValue;\n        if (pressedKey === KEY_.MINUS || pressedKey === KEY_.NUM_MINUS)\n          zoomValue = zoomOutValue;\n\n        throttledZoomProjectionBy({\n          selection: countryPaths,\n          circle: globeCircle,\n          path,\n          projection,\n          maxScale,\n          minScale,\n          zoomValue,\n        });\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [\n    projection,\n    path,\n    minScale,\n    maxScale,\n    zoomInValue,\n    zoomOutValue,\n    rotationValue,\n  ]);\n\n  /**\n   * Zoom Widget click\n   *\n   */\n  const handleZoomClick = ({ currentTarget: { id } }) => {\n    const svg = select(svgRef.current);\n    const countryPaths = svg.selectAll(`path`);\n    const globeCircle = svg.select('circle');\n\n    let zoomValue;\n    if (id === 'widget-zoom-in') zoomValue = zoomInValue;\n    if (id === 'widget-zoom-out') zoomValue = zoomOutValue;\n\n    throttledZoomProjectionBy({\n      selection: countryPaths,\n      circle: globeCircle,\n      path,\n      projection,\n      maxScale,\n      minScale,\n      zoomValue,\n    });\n  };\n\n  /**\n   * Navigation Widget - rotation buttons click\n   *\n   */\n  const handleRotateClick = ({ currentTarget: { id } }) => {\n    let x = 0,\n      y = 0,\n      z = 0;\n    if (id === 'widget-rotate-up') y = rotationValue;\n    if (id === 'widget-rotate-down') y = -rotationValue;\n    if (id === 'widget-rotate-left') x = -rotationValue;\n    if (id === 'widget-rotate-right') x = rotationValue;\n\n    rotateBy([x, y, z]);\n  };\n\n  /**\n   * Navigation Widget - clicking on location button\n   *\n   * It sets a rotation of the globe to the location and calls handler\n   * passed down from app component to update the country.\n   *\n   */\n  const handleLocationClick = coords => {\n    if (!data.features.length) return;\n\n    const [latitude, longitude] = coords;\n\n    // Find feature that contains point of user location\n    const feature = data.features.find(f =>\n      geoContains(f, [-latitude, -longitude]),\n    );\n\n    onLocationClick(feature.id, coords);\n  };\n\n  function rotateBy(rotation) {\n    const countryPaths = select(svgRef.current).selectAll('path');\n\n    throttledRotateProjectionBy({\n      selection: countryPaths,\n      path,\n      projection,\n      rotation,\n    });\n  }\n\n  if (isLoading) return <LoadingSpinner />;\n\n  return (\n    <div className={classes.container}>\n      <svg ref={svgRef} className={classes.svg} width={width} height={height}>\n        <circle\n          className={classes.circle}\n          cx={width / 2}\n          cy={height / 2}\n          r={initialScale}\n        />\n        <g>\n          {data.features.map(({ id }) => (\n            <Tooltip key={id} title={getCountryById(id).name} enterDelay={500}>\n              <path\n                id={id}\n                onClick={onCountryClick}\n                className={clsx({\n                  [classes.country]: true,\n                  [classes.selected]: selectedCountry.id === id,\n                })}\n              />\n            </Tooltip>\n          ))}\n        </g>\n      </svg>\n      <Widgets show={showWidgets}>\n        <WidgetRandomCountry onClick={onRandomCountryClick} />\n        <WidgetZoom onClick={handleZoomClick} />\n        <WidgetNavigation\n          onRotateClick={handleRotateClick}\n          onLocationClick={handleLocationClick}\n        />\n      </Widgets>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { feature } from 'topojson';\nimport axios from 'axios';\n\nexport const useGeoJsonData = () => {\n  const [data, setData] = useState({\n    features: [],\n    type: '',\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    let _isMounted = true;\n\n    const fetchData = async () => {\n      setIsLoading(true);\n      setIsError(false);\n\n      try {\n        const { data: topology } = await axios.get(\n          'https://gist.githubusercontent.com/sitek94/dff8b65aa26c9ba01d8f4217cf40587f/raw/topojson-countries-110m.json',\n        );\n\n        const geoJsonData = feature(topology, topology.objects.countries);\n\n        if (_isMounted) setData(geoJsonData);\n      } catch (error) {\n        if (_isMounted) setIsError(error);\n      }\n      if (_isMounted) setIsLoading(false);\n    };\n    fetchData();\n\n    return () => {\n      _isMounted = false;\n    };\n  }, []);\n\n  return [{ data, isLoading, isError }];\n};\n","import React from 'react';\nimport { ErrorOutline as ErrorIcon } from '@material-ui/icons';\nimport { makeStyles, Typography, Box, Link } from '@material-ui/core';\nimport pkg from '../../package.json';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n  },\n  box: {\n    padding: spacing(2),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '0.5rem',\n  },\n}));\n\nexport const ErrorBox = () => {\n  const classes = useStyles();\n\n  return (\n    <Box\n      color=\"background.paper\"\n      bgcolor=\"text.secondary\"\n      className={classes.container}\n    >\n      <div className={classes.box}>\n        <div className={classes.header}>\n          <ErrorIcon fontSize=\"large\" />\n          <Typography variant=\"h5\">Aw, Snap!</Typography>\n        </div>\n        <Typography variant=\"subtitle1\">\n          Something went wrong, please{' '}\n          <Link underline=\"always\" color=\"inherit\" href={pkg.bugs.url}>\n            submit an issue\n          </Link>\n          , and I'll get it fixed, cheers!\n        </Typography>\n      </div>\n    </Box>\n  );\n};\n","import { makeStyles } from '@material-ui/core';\n\nconst styles = {\n  horizontal: {\n    // Remove border from last detail item\n    '& tr:last-child': {\n      '& th, td': {\n        border: 0,\n      },\n    },\n  },\n  vertical: {\n    marginBottom: 10,\n  },\n};\n\nexport const useStyles = makeStyles(({ breakpoints }) => ({\n  container: {\n    [breakpoints.only('xs')]: styles.vertical,\n    [breakpoints.only('sm')]: styles.horizontal,\n    [breakpoints.only('md')]: styles.vertical,\n    [breakpoints.up('lg')]: styles.horizontal,\n  },\n}));\n","import { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\n\nconst FETCH_INIT = 'FETCH_INIT',\n  FETCH_SUCCESS = 'FETCH_SUCCESS',\n  FETCH_FAILURE = 'FETCH_FAILURE';\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case FETCH_INIT:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case FETCH_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        isErorr: false,\n        data: action.payload,\n      };\n    case FETCH_FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    default:\n      throw new Error();\n  }\n};\n\nexport const useDataApi = ({\n  initialData,\n  initialUrl = null,\n  initialConfig = {},\n  axiosInstance = axios,\n}) => {\n  const [url, setUrl] = useState(initialUrl);\n  const [config, setConfig] = useState(initialConfig);\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: initialData,\n  });\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchData = async () => {\n      dispatch({ type: FETCH_INIT });\n\n      try {\n        const result = await axiosInstance.get(url, config);\n\n        if (!didCancel) {\n          dispatch({ type: FETCH_SUCCESS, payload: result.data });\n        }\n      } catch (error) {\n        if (!didCancel) {\n          dispatch({ type: FETCH_FAILURE });\n        }\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [url, config, axiosInstance]);\n\n  return [state, { setUrl, setConfig }];\n};\n","import { format } from 'd3';\n\nconst LANGUAGES_LIMIT = 4;\n\nexport const initialDetails = {\n  capital: '',\n  currencies: [{ name: '' }],\n  population: 0,\n  area: 0,\n  languages: [{ name: '' }],\n};\n\n/**\n *\n * A function that transformes data received from REST Countries API\n *\n */\nexport const generateDetailsArray = ({\n  capital,\n  currencies,\n  population,\n  area,\n  languages,\n}) => [\n  { label: 'Capital', value: capital },\n  { label: 'Population', value: format(',d')(population) },\n  { label: 'Area', value: format(',d')(area) },\n  {\n    label: 'Languages',\n    value: languages\n      .slice(0, LANGUAGES_LIMIT + 1)\n      .map(l => l.name)\n      .join(', '),\n  },\n  { label: 'Currency', value: currencies[0].name },\n];\n\n/**\n * A list of countries that are not listed by REST Countries API.\n * Data taken from Wikipedia.\n *\n *\n */\nexport const notListedCountries = {\n  // N. Cyprus\n  NCY: {\n    capital: 'North Nicosia',\n    currencies: [{ name: 'Turkish lira' }],\n    population: 326000,\n    area: 3355,\n    languages: [\n      {\n        name: 'Turkish',\n      },\n    ],\n  },\n  // Somaliland\n  SXX: {\n    capital: 'Hargeisa',\n    currencies: [\n      {\n        name: 'Somaliland shilling',\n      },\n    ],\n    population: 3508180,\n    area: 176120,\n    languages: [\n      {\n        name: 'Somali',\n      },\n    ],\n  },\n  // Kosovo\n  XXK: {\n    capital: 'Pristina',\n    currencies: [{ name: 'Euro' }],\n    population: 1873160,\n    area: 10887,\n    languages: [\n      {\n        name: 'Albanian',\n      },\n      {\n        name: 'Serbian',\n      },\n    ],\n  },\n};\n","import axios from 'axios';\n\n// Rest Countries API\nexport const restCountriesApi = axios.create({\n  baseURL: 'https://restcountries.com/v2/alpha/',\n});\n\nexport const unsplashApi = axios.create({\n  baseURL: 'https://api.unsplash.com/search/photos/',\n  params: {\n    per_page: 14,\n  },\n  headers: {\n    Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n  },\n});\n\nexport const wikiApi = axios.create({\n  baseURL: 'https://en.wikipedia.org/api/rest_v1/page/summary/',\n});\n","import React, { useEffect } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableContainer,\n  TableCell,\n  TableRow,\n} from '@material-ui/core';\n\nimport { LoadingSpinner } from '../../LoadingSpinner';\nimport { ErrorBox } from '../../ErrorBox';\nimport { useStyles } from './details-styles';\nimport { useDataApi } from '../../../hooks/useDataApi';\nimport { initialState } from '../../../utils';\nimport {\n  generateDetailsArray,\n  notListedCountries,\n  initialDetails,\n} from './utils';\nimport { restCountriesApi } from '../apis';\n\nconst DetailItem = ({ label, value }) => (\n  <TableRow hover>\n    <TableCell component=\"th\" variant=\"head\">\n      {label}\n    </TableCell>\n    <TableCell>\n      {label === 'Area' ? (\n        <>\n          {value} km<sup>2</sup>\n        </>\n      ) : (\n        value\n      )}\n    </TableCell>\n  </TableRow>\n);\n\nexport const Details = ({ alpha }) => {\n  const classes = useStyles();\n\n  const [{ data, isLoading, isError }, { setUrl: setQuery }] = useDataApi({\n    axiosInstance: restCountriesApi,\n    initialData: initialDetails,\n    initialUrl: initialState.alpha, // Rest countries api searches by country alpha code\n  });\n\n  useEffect(() => {\n    // If alpha code is among not listed countries, don't fetch the data\n    if (notListedCountries[alpha]) return;\n\n    setQuery(alpha);\n  }, [alpha, setQuery]);\n\n  // Some countries like Kosovo, Somaliland and N. Cyprus are not listed\n  // by restcountries API, I hard coded these details in notListedCountries\n  const source = notListedCountries[alpha] || data;\n  const details = generateDetailsArray(source);\n\n  return (\n    <TableContainer className={classes.container}>\n      {isError && <ErrorBox when=\"fetching country details\" />}\n      {isLoading ? (\n        <LoadingSpinner />\n      ) : (\n        <Table size=\"small\">\n          <TableBody>\n            {details.map(({ label, value }) => (\n              <DetailItem key={label} label={label} value={value} />\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </TableContainer>\n  );\n};\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nconst styles = {\n  horizontal: {\n    display: 'grid',\n    gridTemplateColumns: '5.5fr 4.5fr',\n    columnGap: 10,\n  },\n  vertical: {\n    display: 'flex',\n    flexDirection: 'column-reverse',\n  },\n};\n\nconst useStyles = makeStyles(({ breakpoints }) => ({\n  infoBox: {\n    ...styles.horizontal,\n    [breakpoints.down('md')]: styles.vertical,\n    [breakpoints.down('sm')]: styles.horizontal,\n    [breakpoints.down('xs')]: styles.vertical,\n  },\n}));\n\nexport const InfoBox = ({ children }) => {\n  const classes = useStyles();\n\n  return <div className={classes.infoBox}>{children}</div>;\n};\n","import React from 'react';\nimport {\n  makeStyles,\n  Modal as MuiModal,\n  Backdrop,\n  Zoom,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  div: {\n    outline: 'none',\n    boxShadow: theme.shadows[5],\n  },\n}));\n\nexport const Modal = ({ show, children, ...other }) => {\n  const classes = useStyles();\n\n  return (\n    <MuiModal\n      open={show}\n      className={classes.modal}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n      {...other}\n    >\n      <Zoom in={show}>\n        <div className={classes.div}>{children}</div>\n      </Zoom>\n    </MuiModal>\n  );\n};\n","import React from 'react';\nimport { Link, makeStyles, Typography } from '@material-ui/core';\n\nconst REFERRAL_STRING = '?utm_source=your_app_name&utm_medium=referral';\n\nconst useStyles = makeStyles(\n  ({ breakpoints, palette: { common, getContrastText } }) => ({\n    figure: {\n      margin: '0 auto',\n      padding: 25,\n      color: getContrastText(common.white),\n      backgroundColor: common.white,\n      outline: 'none',\n      height: '85vh',\n    },\n    img: {\n      height: '100%',\n    },\n    [breakpoints.down('sm')]: {\n      figure: {\n        height: 'auto',\n        width: '95vw',\n      },\n      img: {\n        height: 'auto',\n        width: '100%',\n      },\n    },\n  }),\n);\n\nexport const PhotoViewer = ({ photo }) => {\n  const classes = useStyles();\n  const {\n    urls,\n    alt_description,\n    links,\n    user: { name },\n  } = photo;\n\n  return (\n    <figure className={classes.figure}>\n      <img className={classes.img} src={urls.regular} alt={alt_description} />\n      <figcaption>\n        <Typography variant=\"caption\" display=\"block\" align=\"center\">\n          by <Link href={links.html + REFERRAL_STRING}>{name}</Link> on{' '}\n          <Link href={`https://unsplash.com/${REFERRAL_STRING}`}>Unsplash</Link>\n        </Typography>\n      </figcaption>\n    </figure>\n  );\n};\n","import React, { useState, memo, useEffect } from 'react';\nimport { makeStyles, fade, Link } from '@material-ui/core';\n\nimport { LoadingSpinner } from '../../LoadingSpinner';\nimport { Modal } from '../../Modal';\nimport { PhotoViewer } from './PhotoViewer';\nimport { ErrorBox } from '../../ErrorBox';\nimport { useDataApi } from '../../../hooks';\nimport { initialState } from '../../../utils';\nimport { unsplashApi } from '../apis';\nimport Image from 'material-ui-image';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\nconst useStyles = makeStyles(\n  ({\n    spacing,\n    palette,\n    transitions: { create, duration },\n    breakpoints: {\n      down,\n      only,\n      values: { mobile },\n    },\n  }) => ({\n    photos: {\n      margin: spacing(2, 0),\n      height: '100%',\n    },\n    card: {\n      marginBottom: spacing(1),\n      cursor: 'pointer',\n      overflow: 'hidden',\n      /* Focus replacement */\n      outline: 0,\n      border: '3px solid transparent',\n      transition: create('border', duration.standard),\n      '&:focus': {\n        border: `3px solid ${fade(palette.primary.main, 0.9)}`,\n      },\n      /* Prevent borders breaks in columns  */\n      WebkitColumnBreakInside: 'avoid',\n      pageBreakInside: 'avoid',\n      breakInside: 'avoid',\n    },\n    list: {\n      columnCount: 3,\n      columnGap: spacing(1),\n      [only('md')]: { columnCount: 2 },\n      [down('xs')]: { columnCount: 2 },\n      [down(mobile)]: { columnCount: 1 },\n    },\n  }),\n);\n\nexport const Photos = memo(({ term }) => {\n  const classes = useStyles();\n\n  // Fetch photos from Unsplash\n  const [{ data, isLoading, isError }, { setConfig }] = useDataApi({\n    initialData: { results: [] },\n    initialConfig: {\n      params: {\n        query: initialState.name,\n      },\n    },\n    axiosInstance: unsplashApi,\n  });\n  useEffect(\n    () =>\n      setConfig({\n        params: {\n          query: term,\n        },\n      }),\n    [term, setConfig],\n  );\n\n  // Open photo in a modal\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const closeModal = () => setIsModalOpen(false);\n  const [currentIndex, setCurrentIndex] = useState(1);\n  const handlePhotoClick = index => {\n    setCurrentIndex(index);\n    setIsModalOpen(true);\n  };\n\n  // Something went wrong when fetching the photos\n  if (isError) return <ErrorBox when=\"fetching photos\" />;\n  // There are no photos\n  if (data.total_pages === 0) {\n    return (\n      <Alert severity=\"info\" style={{ marginTop: 16 }}>\n        <AlertTitle>No photos &#x2639;</AlertTitle>\n        Unfortunally, we couldn't find any photos for this country. But you can\n        explore thousands of other photos and images on{' '}\n        <Link href=\"https://unsplash.com/\" target=\"_blank\" rel=\"noopener\">\n          Unpslash website\n        </Link>\n        .\n      </Alert>\n    );\n  }\n  const photos = data.results;\n\n  return (\n    <div className={classes.photos}>\n      {isLoading ? (\n        <LoadingSpinner />\n      ) : (\n        <div className={classes.list}>\n          {photos.map(\n            ({ id, alt_description, urls, width, height, color }, i) => (\n              <div tabIndex=\"0\" key={id} className={classes.card}>\n                <Image\n                  alt={alt_description}\n                  src={urls.small}\n                  color={color}\n                  aspectRatio={width / height}\n                  animationDuration={1500}\n                  disableSpinner\n                  style={{\n                    display: 'block',\n                    /* Important! Prevents images from breaking in columns */\n                    breakInside: 'avoid',\n                    // marginBottom: spacing(1),\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => handlePhotoClick(i)}\n                />\n              </div>\n            ),\n          )}\n        </div>\n      )}\n      <Modal show={isModalOpen} onClose={closeModal}>\n        <PhotoViewer photo={photos[currentIndex]} />\n      </Modal>\n    </div>\n  );\n});\n","import React, { useEffect } from 'react';\nimport { Typography } from '@material-ui/core';\n\nimport { LoadingSpinner } from '../../LoadingSpinner';\nimport { limitCharacters } from './utils';\nimport { useDataApi } from '../../../hooks';\nimport { ErrorBox } from '../../ErrorBox';\nimport { initialState } from '../../../utils';\nimport { wikiApi } from '../apis';\n\nexport const WikiEntry = ({ term }) => {\n  const [{ data, isLoading, isError }, { setUrl }] = useDataApi({\n    initialData: { extract: '' },\n    initialUrl: initialState.name,\n    axiosInstance: wikiApi,\n  });\n\n  useEffect(() => {\n    setUrl(term);\n  }, [term, setUrl]);\n\n  if (isError) return <ErrorBox when=\"fetching paragraph about the country\" />;\n\n  return (\n    <div className=\"WikiEntry\">\n      {isLoading ? (\n        <LoadingSpinner />\n      ) : (\n        <Typography variont=\"body2\" align=\"justify\">\n          {limitCharacters(data.extract, 480)}\n        </Typography>\n      )}\n    </div>\n  );\n};\n","/**\n * A function keeps removing last sentence from given string until\n * characters limit is met.\n *\n * @param {string} string Text to be shortened, sentences separated by period.\n * @param {number} limit Max length of the string\n */\nexport const limitCharacters = (string, limit) => {\n  let shortenedString = string;\n\n  // Keep removing one sentence from the entry\n  // until it is less than max length\n  while (shortenedString.length >= limit) {\n    shortenedString = shortenedString.split('. ').slice(0, -1).join('. ') + '.';\n  }\n  return shortenedString;\n};\n","import React from 'react';\n\nimport { Details } from './details';\nimport { InfoBox } from './InfoBox';\nimport { Photos } from './photos';\nimport { WikiEntry } from './wiki-entry';\n\nexport const CountryAbout = ({ selectedCountry: { name, alpha } }) => {\n  return (\n    <>\n      <InfoBox>\n        <WikiEntry term={name} />\n        <Details alpha={alpha} />\n      </InfoBox>\n      <Photos term={name} />\n    </>\n  );\n};\n","import { makeStyles, fade } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(\n  ({\n    spacing,\n    shape,\n    breakpoints: {\n      down,\n      values: { mobile },\n    },\n    transitions: { create, duration },\n    palette: { primary, common, getContrastText },\n  }) => ({\n    /* Autocomplete component */\n    autocompleteRoot: {\n      display: 'flex',\n      alignItems: 'center',\n      width: 250,\n\n      /* Position over the globe */\n      position: 'absolute',\n      zIndex: 100,\n      left: spacing(4),\n      top: spacing(4),\n      [down('md')]: {\n        left: spacing(2),\n        top: spacing(2),\n      },\n      /* Position above the globe */\n      [down(mobile)]: {\n        top: spacing(1),\n        left: spacing(2),\n        width: `calc(100% - ${spacing(4)}px)`,\n        marginBottom: spacing(2),\n      },\n    },\n    autocompletePaper: {\n      margin: 0,\n      borderRadius: shape.borderRadius,\n    },\n\n    /* Input */\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: spacing(1, 2),\n      width: '100%',\n      '&::selection': {\n        color: primary.dark,\n        backgroundColor: common.white,\n      },\n    },\n\n    /* Input wrapper (Paper) */\n    inputWrapper: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      borderRadius: shape.borderRadius,\n      color: getContrastText(primary.main),\n      backgroundColor: primary.main,\n      transition: create('background-color', duration.standard),\n    },\n\n    /* Search icon */\n    searchIcon: {\n      display: 'flex',\n      alignItems: 'center',\n      color: fade(getContrastText(primary.main), 0.8),\n      padding: 10,\n    },\n  }),\n);\n","import React, { useState } from 'react';\nimport { Paper, InputBase, Slide } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { Search as SearchIcon } from '@material-ui/icons';\n\nimport { countries } from '../../utils/countries';\nimport { useStyles } from './search-box-styles';\nimport { ALPHA_KEYS } from '../../utils/keyCodes';\n\nexport const SearchBox = ({ show, onOptionSelect, ...other }) => {\n  const classes = useStyles();\n\n  /**\n   * A value that is currently selected\n   *\n   */\n  const [value, setValue] = useState('');\n  const handleValueChange = (event, newValue) => {\n    setValue(newValue);\n\n    if (newValue) onOptionSelect(event, newValue);\n  };\n\n  /**\n   * Input value\n   *\n   */\n  const [inputValue, setInputValue] = useState('');\n  const handleInputValueChange = (event, newValue) => {\n    setInputValue(newValue);\n  };\n\n  /**\n   * Prevents propagtion of alphabetic keyboard events that are used\n   * as shortcuts and when ctrl key is pressed.\n   *\n   * This is to ensure that it is not possible to hide widgets or rotate\n   * the globe when typing.\n   *\n   */\n  const handleKeyDown = event => {\n    const { which, keyCode, ctrlKey } = event;\n    const pressedKey = which || keyCode;\n\n    if (ctrlKey || ALPHA_KEYS.includes(pressedKey)) {\n      event.stopPropagation();\n    }\n  };\n\n  const autocomplete = (\n    <Autocomplete\n      size=\"small\"\n      value={value}\n      inputValue={inputValue}\n      onChange={handleValueChange}\n      onInputChange={handleInputValueChange}\n      options={countries}\n      getOptionLabel={option => (option ? option.name : '')}\n      classes={{\n        root: classes.autocompleteRoot,\n        paper: classes.autocompletePaper,\n      }}\n      {...other}\n      renderInput={params => (\n        <Paper\n          ref={params.InputProps.ref}\n          className={classes.inputWrapper}\n          elevation={7}\n        >\n          <InputBase\n            id=\"select-country\"\n            type=\"text\"\n            placeholder=\"Search for a country...\"\n            aria-label=\"Search for a country\"\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            {...params.inputProps}\n            onKeyDown={handleKeyDown}\n          />\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n        </Paper>\n      )}\n    />\n  );\n\n  return (\n    <Slide in={show} direction=\"right\" mountOnEnter unmountOnExit>\n      {autocomplete}\n    </Slide>\n  );\n};\n","import { useMediaQuery, useTheme } from '@material-ui/core';\nimport { useBodyWidth } from './';\n\nexport const useColumnWidth = () => {\n  const { breakpoints, spacing } = useTheme();\n  const bodyWidth = useBodyWidth();\n\n  // While calculating the width of the column I have to think\n  // how the layout changes over time. Calculations are slightly\n  // different, becaue of the paddings.\n  const isOneColumn = useMediaQuery(breakpoints.down('sm'));\n\n  const columnWidth = isOneColumn\n    ? // Up to 960px - one column\n      // width = bodyWidth - padding * 2\n      bodyWidth - spacing(2) * 2\n    : // More than 960px - two columns\n      // width = bodyWidth / 2 - paddingLeft - paddingRight / 2\n      bodyWidth / 2 - spacing(2) - spacing(1);\n\n  return columnWidth;\n};\n","import { useState, useLayoutEffect } from 'react';\nimport { debounce } from 'lodash';\n\nexport const useBodyWidth = (delay = 250) => {\n  const [width, setWidth] = useState(document.body.clientWidth);\n\n  useLayoutEffect(() => {\n    const handleResize = () => {\n      setWidth(document.body.clientWidth);\n    };\n\n    const debouncedHandleResize = debounce(handleResize, delay);\n\n    window.addEventListener('resize', debouncedHandleResize);\n\n    handleResize();\n\n    return () => {\n      window.removeEventListener('resize', debouncedHandleResize);\n    };\n  }, [delay]);\n\n  return width;\n};\n","import { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useColumnWidth } from './';\n\nexport const useColumnHeight = () => {\n  const { breakpoints, spacing } = useTheme();\n\n  // Check media queries in order to get correct value of the toolbar\n  const matchesXsAndLandscape = useMediaQuery(\n    `${breakpoints.up('xs')} and (orientation: landscape)`,\n  );\n  const matchesUpSm = useMediaQuery(breakpoints.up('sm'));\n\n  // Get all the necessary values to compute the height\n  const viewportHeight = document.documentElement.clientHeight;\n  const toolbarHeight = matchesUpSm ? 64 : matchesXsAndLandscape ? 48 : 56;\n  const footerHeight = 36;\n  const padding = spacing(2) * 2;\n\n  // Compute by substracting all the values from viewport height\n  return viewportHeight - toolbarHeight - footerHeight - padding;\n};\n\nexport const useGlobeSize = () => {\n  const { breakpoints } = useTheme();\n\n  // 600px and down\n  const matchesSmallScreens = useMediaQuery(breakpoints.down('sm'));\n  // 600px - 960px\n  const matchesMediumScreens = useMediaQuery(breakpoints.only('sm'));\n  // 960px and up\n  const matchesLargeScreens = useMediaQuery(breakpoints.up('md'));\n\n  const columnWidth = useColumnWidth();\n  const columnHeight = useColumnHeight();\n\n  let width, height;\n\n  // Globe should be a square\n  if (matchesSmallScreens) {\n    width = columnWidth;\n    height = columnWidth;\n  }\n\n  // Cap height at 600\n  if (matchesMediumScreens) {\n    width = columnWidth;\n    height = 600;\n  }\n\n  // Take full width and height of the column\n  if (matchesLargeScreens) {\n    width = columnWidth;\n    height = columnHeight;\n  }\n\n  return [width, height];\n};\n","import { useState } from 'react';\nimport { createMuiTheme, useMediaQuery } from '@material-ui/core';\n\n/* Base theme for reference when creating app theme */\nconst defaultTheme = createMuiTheme();\n\nexport const useTheme = () => {\n  /* Dark / light mode */\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const [darkMode, setDarkMode] = useState(prefersDarkMode);\n\n  const theme = createMuiTheme({\n    palette: {\n      type: darkMode ? 'dark' : 'light',\n      primary: {\n        /* Shade of blue from Material UI website */\n        main: '#1976d2',\n      },\n    },\n    breakpoints: {\n      values: {\n        /* Extend original breakpoints with custom mobile breakpoint */\n        ...defaultTheme.breakpoints.values,\n        mobile: 400,\n      },\n    },\n    shape: {\n      borderRadius: 8,\n      buttonWidth: 29,\n    },\n  });\n\n  const toggleTheme = () => setDarkMode(!darkMode);\n  return [theme, toggleTheme];\n};\n","import React from 'react';\n\nimport { Modal } from './Modal';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst createData = (key, description) => ({ key, description });\n\nconst rows = [\n  createData('ctrl ', 'Rotate up'),\n  createData('ctrl ', 'Rotate down'),\n  createData('ctrl ', 'Rotate left'),\n  createData('ctrl ', 'Rotate right'),\n  createData('+', 'Zoom in'),\n  createData('-', 'Zoom out'),\n  createData('l', 'Rotate to selected country'),\n  createData('r', 'Select random country'),\n  createData('w', 'Show/hide widgets'),\n  createData('ctrl /', 'Show/hide shortcuts'),\n];\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 300,\n  },\n  cellKey: {\n    fontFamily: 'monospace',\n    fontSize: '1.1rem',\n  },\n});\n\nconst ShortcutsTable = () => {\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"Shortcuts table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Key</TableCell>\n            <TableCell>Description</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map(row => (\n            <TableRow key={row.key}>\n              <TableCell align=\"center\" className={classes.cellKey}>\n                {row.key}\n              </TableCell>\n              <TableCell align=\"left\">{row.description}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport const Shortcuts = ({ show, onClose }) => {\n  return (\n    <Modal show={show} onClose={onClose}>\n      <ShortcutsTable />\n    </Modal>\n  );\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { ThemeProvider, CssBaseline } from '@material-ui/core';\n\nimport { Layout } from '../layout';\nimport { Navbar } from '../Navbar';\nimport { Footer } from '../Footer';\nimport { Globe } from '../globe';\nimport { CountryAbout } from '../country-about';\nimport { SearchBox } from '../search-box';\nimport { useGlobeSize } from '../layout/hooks';\nimport { useTheme } from './useTheme';\nimport { getCountryById, getRandomCountry, initialState } from '../../utils';\nimport KEY_ from '../../utils/keyCodes';\nimport { Shortcuts } from '../Shortcuts';\n\nexport const App = () => {\n  const [theme, toggleTheme] = useTheme();\n  const handleToggleTheme = () => {\n    preventRotation();\n    toggleTheme();\n  };\n\n  const [globeWidth, globeHeight] = useGlobeSize();\n\n  /**\n   * Show/hide widgets\n   */\n  const [showWidgets, setShowWidgets] = useState(true);\n  const toggleWidgetsVisibility = useCallback(() => {\n    preventRotation();\n    setShowWidgets(prev => !prev);\n  }, []);\n\n  /**\n   * Show/hide shortcuts\n   */\n  const [shortcuts, setShowShortcuts] = useState(false);\n  const hideShortcuts = () => setShowShortcuts(false);\n  const toggleShortcutsVisibility = useCallback(() => {\n    preventRotation();\n    setShowShortcuts(prev => !prev);\n  }, []);\n\n  /**\n   * Selected country and rotation\n   *\n   * When updating the country it is necessary to update the rotation\n   * as well.\n   *\n   */\n  const [selectedCountry, setSelectedCountry] = useState(initialState);\n  const [rotation, setRotation] = useState(initialState.rotation);\n\n  /**\n   * The globe is watching rotation property and updates its rotation when it changes.\n   * When rotation is set to null, the globe won't update the rotation.\n   */\n  function preventRotation() {\n    setRotation(null);\n  }\n\n  const updateSelectedCountry = useCallback(newCountry => {\n    setSelectedCountry(newCountry);\n    setRotation(newCountry.rotation);\n  }, []);\n\n  const setRandomCountry = useCallback(() => {\n    updateSelectedCountry(getRandomCountry());\n  }, [updateSelectedCountry]);\n\n  /**\n   * Event handlers\n   *\n   */\n  const handleCountryClick = ({ target: { id } }) => {\n    updateSelectedCountry(getCountryById(id));\n  };\n\n  const handleCountrySelect = (event, newCountry) => {\n    if (newCountry) updateSelectedCountry(newCountry);\n  };\n\n  const handleRandomCountryClick = () => {\n    setRandomCountry();\n  };\n\n  const handleLocationClick = (countryId, rotation) => {\n    setSelectedCountry(getCountryById(countryId));\n    setRotation(rotation);\n  };\n\n  /**\n   * Add key down event listener to the window object\n   *\n   */\n  useEffect(() => {\n    const handleKeyDown = ({ which, keyCode, ctrlKey }) => {\n      const pressedKey = which || keyCode;\n\n      if (pressedKey === KEY_.R) setRandomCountry();\n      if (pressedKey === KEY_.W) toggleWidgetsVisibility();\n      if (ctrlKey && pressedKey === KEY_.SLASH) toggleShortcutsVisibility();\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [setRandomCountry, toggleShortcutsVisibility, toggleWidgetsVisibility]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Layout\n        isSearchboxVisible={showWidgets}\n        navbar={\n          <Navbar\n            title={selectedCountry.name}\n            onThemeIconClick={handleToggleTheme}\n            onWidgetsIconClick={toggleWidgetsVisibility}\n            onShortcutsIconClick={toggleShortcutsVisibility}\n          />\n        }\n        leftColumn={\n          <>\n            <SearchBox\n              show={showWidgets}\n              onOptionSelect={handleCountrySelect}\n            />\n            <Globe\n              rotation={rotation}\n              rotationBy={rotation}\n              initialRotation={initialState.rotation}\n              width={globeWidth}\n              height={globeHeight}\n              selectedCountry={selectedCountry}\n              onCountryClick={handleCountryClick}\n              onLocationClick={handleLocationClick}\n              onRandomCountryClick={handleRandomCountryClick}\n              showWidgets={showWidgets}\n            />\n          </>\n        }\n        rightColumn={<CountryAbout selectedCountry={selectedCountry} />}\n        footer={<Footer />}\n      />\n      <Shortcuts show={shortcuts} onClose={hideShortcuts} />\n    </ThemeProvider>\n  );\n};\n","import { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useColumnWidth, useColumnHeight } from './';\n\nexport const useGlobeSize = () => {\n  const { breakpoints } = useTheme();\n\n  // 600px and down\n  const matchesSmallScreens = useMediaQuery(breakpoints.down('sm'));\n  // 600px - 960px\n  const matchesMediumScreens = useMediaQuery(breakpoints.only('sm'));\n  // 960px and up\n  const matchesLargeScreens = useMediaQuery(breakpoints.up('md'));\n\n  const columnWidth = useColumnWidth();\n  const columnHeight = useColumnHeight();\n\n  let width, height;\n\n  // Globe should be a square\n  if (matchesSmallScreens) {\n    width = columnWidth;\n    height = columnWidth;\n  }\n\n  // Cap height at 600\n  if (matchesMediumScreens) {\n    width = columnWidth;\n    height = 600;\n  }\n\n  // Take full width and height of the column\n  if (matchesLargeScreens) {\n    width = columnWidth;\n    height = columnHeight;\n  }\n\n  return [width, height];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}